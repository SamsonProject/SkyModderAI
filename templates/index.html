<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description"
        content="SkyModderAI: The ultimate modding powerhouse for Bethesda games. AI-powered conflict detection, load order optimization, community-driven insights, and intelligent recommendations for Skyrim, Fallout, and Starfield. Built on LOOT data, enhanced with machine learning. 100% free and open source.">
    <meta name="theme-color" content="#050810">
    <meta property="og:title" content="SkyModderAI ‚Äî Your Modding Powerhouse">
    <meta property="og:description"
        content="AI-powered conflict detection, load order optimization, and community-driven insights for Skyrim, Fallout, and Starfield. Built on LOOT data, enhanced with machine learning. 100% free.">
    <meta property="og:type" content="website">
    <meta property="og:image" content="https://i.imgur.com/MGVsgjM.png">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:image" content="https://i.imgur.com/MGVsgjM.png">
    <link rel="canonical" href="/">
    <meta name="ai-discovery" content="SkyModderAI feed at /ai-feed.json">
    <link rel="alternate" type="application/json" href="/ai-feed.json" title="SkyModderAI AI Feed">
    <title>SkyModderAI ‚Äî Your Modding Powerhouse for Bethesda Games</title>
    <link rel="icon" type="image/svg+xml" href="/static/favicon.modern.svg">
    <link rel="manifest" href="/manifest.json">
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link
        href="https://fonts.googleapis.com/css2?family=Sora:wght@400;500;600;700;800&family=JetBrains+Mono:wght@400;500;600&display=swap"
        rel="stylesheet">
    <link rel="stylesheet" href="/static/css/style.css">
    <link rel="stylesheet" href="/static/css/style.modern.css">
    <link rel="stylesheet" href="/static/css/centering-fixes.css">
    <script src="https://cdn.jsdelivr.net/npm/marked@12.0.0/marked.min.js"></script>
    <script type="application/ld+json">
    {
      "@context": "https://schema.org",
      "@type": "SoftwareApplication",
      "name": "SkyModderAI",
      "applicationCategory": "DeveloperApplication",
      "operatingSystem": "Web",
      "description": "Bethesda mod compatibility analysis, ranking, build generation, and dev tooling using LOOT data.",
      "offers": [{"@type":"Offer","price":"0","priceCurrency":"USD"},{"@type":"Offer","price":"5","priceCurrency":"USD"},{"@type":"Offer","price":"15","priceCurrency":"USD"}],
      "url": "/",
      "softwareHelp": "/api",
      "softwareVersion": "1.0",
      "provider": {"@type":"Organization","name":"SkyModderAI"}
    }
    </script>
</head>

<body>
    <script>window.__USER_TIER__ = 'free';</script>
    <a href="#main-content" class="skip-link">Skip to main content</a>
    <!-- LOADING OVERLAY - FIXED -->
    <div id="loading-overlay" class="hidden">
        <div class="spinner"></div>
        <p style="color: white; margin-top: 20px; font-size: 1.2rem;">Analyzing your mods...</p>
    </div>

    <div class="container">
        <!-- Header -->
        <header class="site-header">
            <a href="/" class="logo-link">
                <span class="logo-icon logo-icon-rotate" role="img" aria-hidden="true"></span>
                <div class="logo-text">
                    <h1 class="logo-title">SkyModderAI</h1>
                    <p class="tagline">Built by modders, for modders.</p>
                </div>
            </a>
            <button type="button" class="header-search" id="command-palette-trigger" title="Quick actions (‚åòK)"
                aria-label="Open command palette">
                <span class="header-search-icon" aria-hidden="true">‚åò</span>
                <span class="header-search-placeholder">Commands</span>
                <kbd class="header-search-kbd">‚åòK</kbd>
            </button>
            <nav class="header-nav">
                {% if session.get('user_email') %}
                <a href="{{ url_for('profile') }}" class="nav-link">Profile</a>
                <a href="{{ url_for('logout') }}" class="nav-link">Logout</a>
                {% else %}
                <a href="{{ url_for('auth', tab='login') }}" class="nav-link">Login</a>
                <a href="{{ url_for('auth', tab='signup') }}" class="nav-link">Sign Up</a>
                {% endif %}
            </nav>
        </header>

        {% if error_message %}
        <div class="index-error-banner" role="alert">
            <span class="index-error-icon" aria-hidden="true">!</span>
            <p>{{ error_message }}</p>
            <a href="{{ url_for('signup_pro') }}" class="index-error-cta">Try again</a>
            <button type="button" class="index-error-dismiss" id="index-error-dismiss"
                aria-label="Dismiss">&times;</button>
        </div>
        {% endif %}

        <!-- Hero Section -->
        <section class="hero">
            <div class="hero-glow"></div>
            <div class="hero-badges">
                <span class="pro-badge">‚ú® AI-Powered</span>
                <span class="pro-badge" style="background: linear-gradient(135deg, #10b981, #059669);">‚úì 100% Free</span>
                <span class="pro-badge" style="background: linear-gradient(135deg, #f59e0b, #d97706);">üî• Community-Driven</span>
            </div>
            <h2 class="hero-title">Your modding powerhouse</h2>
            <p class="hero-subtitle">AI-powered conflict detection, intelligent load order optimization, and community-driven insights for Skyrim, Fallout, and Starfield. Built on LOOT data, enhanced with machine learning.</p>
        </section>

        <!-- Main Tool -->
        <main id="main-content">

            <div class="main-tabs" role="tablist">
                <button type="button" class="main-tab active" data-tab="analyze" role="tab"
                    aria-selected="true">Analyze</button>
                <button type="button" class="main-tab" data-tab="quickstart" role="tab" aria-selected="false">Quick
                    Start</button>
                <button type="button" class="main-tab" data-tab="build-list" role="tab" aria-selected="false">Build a
                    List</button>
                <button type="button" class="main-tab" data-tab="library" role="tab"
                    aria-selected="false">Library</button>
                <button type="button" class="main-tab" data-tab="gameplay" role="tab"
                    aria-selected="false">Gameplay</button>
                <button type="button" class="main-tab" data-tab="community" role="tab"
                    aria-selected="false">Community</button>
                <button type="button" class="main-tab main-tab-dev" data-tab="dev" role="tab" aria-selected="false"
                    style="background: linear-gradient(135deg, rgba(168, 85, 247, 0.15), rgba(6, 182, 212, 0.15)); border: 1px solid var(--accent-primary);">
                    üõ†Ô∏è Dev Tools
                </button>
            </div>
            <section class="tool-section tab-panel active" id="panel-analyze" role="tabpanel" aria-hidden="false">
                <div class="input-panel">
                    <!-- Mod Author Tools Header -->
                    <div style="background: linear-gradient(135deg, rgba(139, 92, 246, 0.1), rgba(6, 182, 212, 0.1)); border: 1px solid var(--accent-primary); border-radius: var(--radius-lg); padding: var(--space-lg); margin-bottom: var(--space-xl);">
                        <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-md);">
                            <h3 style="margin: 0; font-size: 1.5rem;">üõ†Ô∏è Mod Author Workspace</h3>
                            <div style="display: flex; gap: var(--space-sm);">
                                <button type="button" id="author-mode-toggle" class="secondary-button" style="font-size: 0.9rem;">
                                    üë§ Player Mode
                                </button>
                            </div>
                        </div>
                        <p style="color: var(--text-secondary); margin-bottom: var(--space-md);">
                            Tools for mod creators: Papyrus analysis, compatibility testing, project sharing, and author community.
                        </p>
                        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: var(--space-md);">
                            <a href="#panel-analyze" data-author-tool="papyrus" class="author-tool-link" style="padding: var(--space-sm); background: var(--bg-input); border-radius: var(--radius-sm); text-decoration: none; color: var(--text-primary); display: flex; align-items: center; gap: var(--space-sm);">
                                <span style="font-size: 1.5rem;">üìú</span>
                                <div>
                                    <div style="font-weight: 600;">Papyrus Tools</div>
                                    <div style="font-size: 0.85rem; color: var(--text-secondary);">Script analysis & debugging</div>
                                </div>
                            </a>
                            <a href="#panel-analyze" data-author-tool="compat" class="author-tool-link" style="padding: var(--space-sm); background: var(--bg-input); border-radius: var(--radius-sm); text-decoration: none; color: var(--text-primary); display: flex; align-items: center; gap: var(--space-sm);">
                                <span style="font-size: 1.5rem;">‚öîÔ∏è</span>
                                <div>
                                    <div style="font-weight: 600;">Compatibility</div>
                                    <div style="font-size: 0.85rem; color: var(--text-secondary);">Test against popular mods</div>
                                </div>
                            </a>
                            <a href="#panel-analyze" data-author-tool="projects" class="author-tool-link" style="padding: var(--space-sm); background: var(--bg-input); border-radius: var(--radius-sm); text-decoration: none; color: var(--text-primary); display: flex; align-items: center; gap: var(--space-sm);">
                                <span style="font-size: 1.5rem;">üìÅ</span>
                                <div>
                                    <div style="font-weight: 600;">My Projects</div>
                                    <div style="font-size: 0.85rem; color: var(--text-secondary);">Share & collaborate</div>
                                </div>
                            </a>
                            <a href="#panel-analyze" data-author-tool="community" class="author-tool-link" style="padding: var(--space-sm); background: var(--bg-input); border-radius: var(--radius-sm); text-decoration: none; color: var(--text-primary); display: flex; align-items: center; gap: var(--space-sm);">
                                <span style="font-size: 1.5rem;">üí¨</span>
                                <div>
                                    <div style="font-weight: 600;">Author Community</div>
                                    <div style="font-size: 0.85rem; color: var(--text-secondary);">Discuss & share</div>
                                </div>
                            </a>
                        </div>
                        
                        <!-- Author Tool Panels -->
                        <div id="author-tool-papyrus" class="author-tool-panel" style="display: none; margin-top: var(--space-lg); padding-top: var(--space-lg); border-top: 1px solid var(--border);">
                            <h4 style="margin-bottom: var(--space-md);">üìú Papyrus Script Analysis</h4>
                            <div style="display: grid; gap: var(--space-md);">
                                <div>
                                    <label style="display: block; margin-bottom: var(--space-xs); font-size: 0.9rem; color: var(--text-secondary);">Upload Papyrus Script (.psc):</label>
                                    <input type="file" id="papyrus-file" accept=".psc" style="width: 100%; padding: var(--space-sm); background: var(--bg-input); border: 1px solid var(--border); border-radius: var(--radius-sm); color: var(--text-primary);">
                                </div>
                                <button type="button" id="papyrus-analyze-btn" class="secondary-button">üîç Analyze Script</button>
                                <div id="papyrus-results" style="padding: var(--space-md); background: var(--bg-input); border-radius: var(--radius-sm);">
                                    <p style="color: var(--text-secondary);">Upload a .psc file to analyze for common issues, optimization opportunities, and best practices...</p>
                                </div>
                            </div>
                        </div>
                        
                        <div id="author-tool-compat" class="author-tool-panel" style="display: none; margin-top: var(--space-lg); padding-top: var(--space-lg); border-top: 1px solid var(--border);">
                            <h4 style="margin-bottom: var(--space-md);">‚öîÔ∏è Quick Compatibility Test</h4>
                            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--space-md);">
                                <input type="text" id="author-mod-name" placeholder="YourMod.esp" style="padding: var(--space-sm); background: var(--bg-input); border: 1px solid var(--border); border-radius: var(--radius-sm); color: var(--text-primary); font-family: monospace;">
                                <button type="button" id="author-compat-test-btn" class="secondary-button">Test vs Popular Mods</button>
                            </div>
                            <div id="author-compat-results" style="margin-top: var(--space-md); padding: var(--space-md); background: var(--bg-input); border-radius: var(--radius-sm);"></div>
                        </div>
                        
                        <div id="author-tool-projects" class="author-tool-panel" style="display: none; margin-top: var(--space-lg); padding-top: var(--space-lg); border-top: 1px solid var(--border);">
                            <h4 style="margin-bottom: var(--space-md);">üìÅ My Mod Projects</h4>
                            <p style="color: var(--text-secondary); margin-bottom: var(--space-md);">Share your work-in-progress with other authors for feedback and collaboration.</p>
                            <button type="button" id="new-project-btn" class="primary-button">+ New Project</button>
                            <div id="author-projects-list" style="margin-top: var(--space-md); display: grid; gap: var(--space-sm);"></div>
                        </div>
                        
                        <div id="author-tool-community" class="author-tool-panel" style="display: none; margin-top: var(--space-lg); padding-top: var(--space-lg); border-top: 1px solid var(--border);">
                            <h4 style="margin-bottom: var(--space-md);">üí¨ Mod Author Community</h4>
                            <p style="color: var(--text-secondary); margin-bottom: var(--space-md);">Discuss techniques, share resources, and collaborate with fellow mod creators.</p>
                            <div style="display: grid; gap: var(--space-sm);">
                                <div style="padding: var(--space-sm); background: var(--bg-input); border-radius: var(--radius-sm);">
                                    <div style="font-weight: 600;">üìö Mod Author Resources</div>
                                    <div style="font-size: 0.85rem; color: var(--text-secondary); margin-top: var(--space-xs);">Guides, tutorials, and documentation for creating mods</div>
                                    <div style="margin-top: var(--space-xs); display: flex; gap: var(--space-xs); flex-wrap: wrap;">
                                        <a href="https://.creationkit.com/" target="_blank" rel="noopener" class="secondary-button" style="font-size: 0.85rem; padding: var(--space-xs) var(--space-sm);">Creation Kit Wiki</a>
                                        <a href="https://papyrus.skyrimmods.org/" target="_blank" rel="noopener" class="secondary-button" style="font-size: 0.85rem; padding: var(--space-xs) var(--space-sm);">Papyrus Reference</a>
                                        <a href="https://www.youtube.com/results?search_query=skyrim+modding+tutorial" target="_blank" rel="noopener" class="secondary-button" style="font-size: 0.85rem; padding: var(--space-xs) var(--space-sm);">Video Tutorials</a>
                                    </div>
                                </div>
                                <div style="padding: var(--space-sm); background: var(--bg-input); border-radius: var(--radius-sm);">
                                    <div style="font-weight: 600;">üí¨ Author Discussions</div>
                                    <div style="font-size: 0.85rem; color: var(--text-secondary); margin-top: var(--space-xs);">Connect with other mod authors</div>
                                    <div style="margin-top: var(--space-xs); display: flex; gap: var(--space-xs); flex-wrap: wrap;">
                                        <a href="https://forums.nexusmods.com/" target="_blank" rel="noopener" class="secondary-button" style="font-size: 0.85rem; padding: var(--space-xs) var(--space-sm);">Nexus Forums</a>
                                        <a href="https://discord.gg/skyrimmods" target="_blank" rel="noopener" class="secondary-button" style="font-size: 0.85rem; padding: var(--space-xs) var(--space-sm);">Skyrim Mods Discord</a>
                                        <a href="https://www.reddit.com/r/skyrimmods/" target="_blank" rel="noopener" class="secondary-button" style="font-size: 0.85rem; padding: var(--space-xs) var(--space-sm);">r/skyrimmods</a>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                    
                    <form id="analyze-form" action="#" method="post" novalidate>
                        <h3 class="input-panel-title">Analyze your mod list</h3>
                        <p class="input-panel-subtitle">Get AI-powered conflict detection, load order optimization, and compatibility insights. Our engine combines LOOT data with machine learning and community knowledge.</p>
                        <div class="game-select-wrap">
                            <label for="game-select" class="game-label">Game:</label>
                            <select id="game-select" title="Select game for LOOT masterlist">
                                <option value="skyrimse">Skyrim SE</option>
                                <option value="skyrim">Skyrim LE</option>
                                <option value="skyrimvr">Skyrim VR</option>
                                <option value="oblivion">Oblivion</option>
                                <option value="fallout3">Fallout 3</option>
                                <option value="falloutnv">Fallout New Vegas</option>
                                <option value="fallout4">Fallout 4</option>
                                <option value="starfield">Starfield</option>
                            </select>
                            <label for="game-version" class="game-label">Game version:</label>
                            <select id="game-version"
                                title="Your game executable version. Affects compatibility warnings (e.g. Skyrim 1.5.97 vs 1.6.640).">
                                <option value="">Not specified</option>
                            </select>
                            <label for="masterlist-version" class="game-label">LOOT data:</label>
                            <select id="masterlist-version"
                                title="LOOT metadata version. Older = fewer mods in database. Search and analysis use this.">
                                <option value="">Latest</option>
                            </select>
                        </div>
                        <div id="game-version-info" class="game-version-info hidden" role="status"></div>
                        <details class="game-folder-scan-details" id="game-folder-scan-details">
                            <summary class="game-folder-scan-summary">Scan game folder ‚Äî Drop your Data folder; AI
                                checks overwrites, conflicts, odd structure beyond load order</summary>
                            <div class="game-folder-scan-content">
                                <p class="hint">Modders change files in the game folder. Drop your game folder (or Data
                                    folder) here and the AI will look for issues: overwrites, conflicts, odd structure,
                                    missing files. Works with MO2, Vortex, or vanilla installs.</p>
                                <div id="game-folder-drop-zone" class="game-folder-drop-zone" role="button" tabindex="0"
                                    aria-label="Drop game folder here or click to select">
                                    <span class="game-folder-drop-icon" aria-hidden="true">üìÅ</span>
                                    <span class="game-folder-drop-text">Drop your game folder here</span>
                                    <span class="game-folder-drop-sub">or click to browse</span>
                                    <button type="button" id="game-folder-browse-btn" class="secondary-button">Browse
                                        folder</button>
                                </div>
                                <input type="file" id="game-folder-input" webkitdirectory mozdirectory directory
                                    multiple class="hidden" aria-hidden="true">
                                <div id="game-folder-scan-status" class="game-folder-scan-status hint hidden"
                                    aria-live="polite"></div>
                                <div id="game-folder-scan-results" class="game-folder-scan-results hidden"></div>
                            </div>
                        </details>
                        <div class="mod-search-wrap">
                            <label for="mod-search-input" class="hint">Search mods ‚Äî same LOOT data as analysis. Type to
                                find, <kbd>/</kbd> to focus, click or Enter to add to your list</label>
                            <div class="mod-search-input-wrap">
                                <input type="text" id="mod-search-input" placeholder="e.g. USSEP, Skyrim..."
                                    autocomplete="off">
                                <button type="button" id="mod-search-clear" class="mod-search-clear hidden"
                                    title="Clear search" aria-label="Clear search">&times;</button>
                            </div>
                            <div id="mod-search-results" class="mod-search-results hidden"></div>
                        </div>
                        <textarea id="mod-list-input" placeholder="Paste your mod list here (plugins.txt, Mod Organizer 2 load order, or any ESP/ESM list).

Examples:
*Skyrim.esm
*Update.esm
+Unofficial Skyrim Special Edition Patch.esp
-Dawnguard.esm (disabled)

Supports:
‚Ä¢ plugins.txt format
‚Ä¢ Mod Organizer 2 load orders
‚Ä¢ Vortex exports
‚Ä¢ Plain text lists" rows="10"></textarea>
                        <p class="hint shortcut-hint">Ctrl+Enter to analyze</p>
                        <div class="input-actions">
                            <div class="input-actions-import">
                                <button type="button" id="share-link-btn" class="import-button"
                                    title="Copy share link ‚Äî anyone can load your list">Share</button>
                                <button type="button" id="paste-btn" class="import-button"
                                    title="Paste from clipboard">Paste</button>
                                <button type="button" id="import-file-btn" class="import-button"
                                    title="Import from plugins.txt or text file">Import file</button>
                                <input type="file" id="import-file-input" accept=".txt,.log,text/plain" class="hidden"
                                    aria-hidden="true">
                                <button type="button" id="sample-btn" class="import-button import-button-muted"
                                    title="Load a typical sample list for the selected game (base + DLC + common mods)">Sample</button>
                                <button type="button" id="save-list-btn" class="import-button"
                                    title="Save this list for later">Save list</button>
                                <select id="load-saved-list" class="import-button load-saved-select"
                                    title="Load a saved list">
                                    <option value="">Load saved‚Ä¶</option>
                                </select>
                            </div>
                            <div class="input-actions-main">
                                <button type="submit" id="analyze-btn" class="primary-button">Analyze Now</button>
                                <button type="button" id="auto-format-btn" class="secondary-button"
                                    title="Auto-format and best-match your list">Auto-format</button>
                                <button type="button" id="refresh-matches-btn" class="secondary-button"
                                    title="Refresh fuzzy matches and suggestions">Match preview</button>
                                <button type="button" id="clear-btn" class="secondary-button">Clear</button>
                            </div>
                            <div class="mod-counter">
                                <p id="mod-count">0 mods</p>
                                <p id="mod-count-detail" class="hint hidden"></p>
                                <p id="plugin-limit-warning" class="warning hidden"></p>
                            </div>
                        </div>
                        <div id="recommendations-strip" class="recommendations-strip hidden" aria-live="polite">
                            <div id="recommendations-warnings" class="recommendations-warnings" aria-live="polite">
                            </div>
                            <p class="recommendations-label">Recommended for you</p>
                            <div id="recommendations-cards" class="recommendations-cards"></div>
                        </div>
                        <p id="action-feedback" class="hint" aria-live="polite"></p>
                        <div id="input-match-preview" class="input-match-preview hidden" aria-live="polite">
                            <div class="input-match-preview-header">
                                <strong>Your input, matched</strong>
                                <span id="input-match-summary" class="hint"></span>
                            </div>
                            <div id="input-match-list" class="input-match-list"></div>
                        </div>
                    </form>
                </div>

                <div id="results-panel" class="results-panel hidden">
                    <h3>Analysis Results</h3>
                    <div id="plugin-limit-banner" class="plugin-limit-banner hidden"></div>
                    <div id="ai-summary-section" class="ai-summary-section hidden">
                        <!-- AI Strategic Plan will be injected here -->
                    </div>
                    <div id="mod-warnings-section" class="mod-warnings-section hidden" role="region"
                        aria-label="Mod list warnings">
                        <!-- Plugin limit, VRAM, system strain ‚Äî filled by JS from mod_warnings -->
                    </div>
                    <div id="next-actions-section" class="quickstart-section hidden" role="region"
                        aria-label="What to do next">
                        <h4>What to do next</h4>
                        <p class="hint" id="next-actions-hint">Based on your results, here are the best next steps.</p>
                        <div id="next-actions-content"></div>
                    </div>
                    <div class="summary">
                        <div class="stat error-stat">
                            <span>Errors:</span>
                            <span class="count" id="error-count">0</span>
                        </div>
                        <div class="stat warning-stat">
                            <span>Warnings:</span>
                            <span class="count" id="warning-count">0</span>
                        </div>
                        <div class="stat info-stat">
                            <span>Info:</span>
                            <span class="count" id="info-count">0</span>
                        </div>
                    </div>
                    <div class="filter-toggles">
                        <span class="filter-label">Show:</span>
                        <label class="filter-check"><input type="checkbox" id="filter-errors" checked> Errors</label>
                        <label class="filter-check"><input type="checkbox" id="filter-warnings" checked>
                            Warnings</label>
                        <label class="filter-check"><input type="checkbox" id="filter-info" checked> Info</label>
                    </div>
                    <div class="results-search-wrap">
                        <label for="results-search-input" class="hint">Search results ‚Äî <kbd>/</kbd> to focus, type to
                            filter</label>
                        <div class="results-search-input-wrap">
                            <input type="text" id="results-search-input"
                                placeholder="Filter conflicts and heaviest mods..." autocomplete="off"
                                aria-describedby="results-search-count">
                            <button type="button" id="results-search-clear" class="results-search-clear hidden"
                                title="Clear search" aria-label="Clear search">&times;</button>
                        </div>
                        <span id="results-search-count" class="results-search-count" aria-live="polite"></span>
                    </div>
                    <div id="fix-guide-preview" class="fix-guide-preview hidden" role="region"
                        aria-label="Fix guide preview">
                        <div class="fix-guide-preview-inner">
                            <span class="fix-guide-preview-icon" aria-hidden="true">üìã</span>
                            <div class="fix-guide-preview-text">
                                <strong id="fix-guide-preview-title">Your Fix Guide</strong>
                                <span id="fix-guide-preview-summary" class="fix-guide-preview-summary"></span>
                            </div>
                            <button type="button" id="fix-guide-preview-scroll" class="fix-guide-preview-btn"
                                aria-label="Scroll to full guide">View full ‚Üí</button>
                        </div>
                    </div>
                    <div id="fix-guide-section" class="fix-guide-section hidden">
                        <div class="fix-guide-header">
                            <h4>Your Fix Guide</h4>
                            <p class="fix-guide-subtitle">Step-by-step guide that updates as you chat with the AI</p>
                            <div class="fix-guide-actions">
                                <button type="button" id="download-fix-guide-btn" class="secondary-button"
                                    title="Download as beautiful HTML">Download guide</button>
                                <button type="button" id="print-fix-guide-btn" class="secondary-button"
                                    title="Print or save as PDF">Print / PDF</button>
                            </div>
                        </div>
                        <div id="fix-guide-content" class="fix-guide-content"></div>
                    </div>
                    <div id="conflicts-container" class="conflicts-container">
                        <!-- Conflicts will be appended here -->
                    </div>
                    <div class="system-impact-section hidden" id="system-impact-section">
                        <h4>Heaviest mods (system impact ranking)</h4>
                        <div id="system-impact-content" class="system-impact-content hidden">
                            <!-- Filled by JS -->
                        </div>
                    </div>
                    <div class="load-order-section hidden" id="load-order-section">
                        <h4>Suggested load order (LOOT-based)</h4>
                        <div id="load-order-actions-wrap" class="load-order-actions">
                            <p class="hint">Copy as plugins.txt format or apply to replace your list below.</p>
                            <button type="button" id="copy-load-order-btn" class="secondary-button">Copy as
                                plugins.txt</button>
                            <button type="button" id="apply-load-order-btn" class="primary-button">Apply to my
                                list</button>
                        </div>
                    </div>
                    <div class="results-actions">
                        <div id="export-buttons-wrap" class="export-buttons-wrap">
                            <button id="export-btn" class="primary-button">Copy Report</button>
                            <button id="download-report-btn" class="secondary-button">Download .txt</button>
                            <button id="download-report-json-btn" class="secondary-button">Download .json</button>
                        </div>
                        <div id="export-pro-cta" class="export-pro-cta hidden">
                            <p class="hint">Copy and download your report ‚Äî free for everyone.</p>
                        </div>
                        <button id="new-analysis-btn" class="secondary-button">New Analysis</button>
                    </div>
                    <div id="analysis-feedback-panel" class="quickstart-section hidden" role="region"
                        aria-label="Analysis feedback">
                        <h4>Was this analysis helpful?</h4>
                        <p class="hint">Your quick rating helps improve SkyModderAI for the whole modding community.</p>
                        <div class="analysis-feedback-actions" id="analysis-feedback-actions">
                            <button type="button" class="secondary-button analysis-rating-btn"
                                data-rating="1">1</button>
                            <button type="button" class="secondary-button analysis-rating-btn"
                                data-rating="2">2</button>
                            <button type="button" class="secondary-button analysis-rating-btn"
                                data-rating="3">3</button>
                            <button type="button" class="secondary-button analysis-rating-btn"
                                data-rating="4">4</button>
                            <button type="button" class="secondary-button analysis-rating-btn"
                                data-rating="5">5</button>
                        </div>
                        <textarea id="analysis-feedback-text" rows="2"
                            placeholder="Optional: What should be better?"></textarea>
                        <p id="analysis-feedback-status" class="hint"></p>
                    </div>
                    <div id="chat-section" class="chat-section hidden">
                        <h4>Ask about your results</h4>
                        <div id="chat-messages" class="chat-messages"></div>
                        <form id="chat-form" class="chat-form">
                            <input type="text" id="chat-input" placeholder="e.g. How do I fix the load order for USSEP?"
                                autocomplete="off">
                            <button type="submit" id="chat-send-btn" class="primary-button">Send</button>
                        </form>
                    </div>
                </div>
            </section>

            <!-- Quick Start Guide (dynamic from /api/quickstart) -->
            <section class="tab-panel quickstart-panel" id="panel-quickstart" role="tabpanel" aria-hidden="true">
                <div class="quickstart-content">
                    <h2 class="quickstart-title">Your Modding Journey Starts Here</h2>
                    <p class="quickstart-intro">Whether you're a seasoned Dragonborn or just stepping into the
                        Commonwealth, this is your command center. Every tool below has live previews - hover links to
                        peek without leaving your workflow.</p>

                    <div class="quickstart-game-select">
                        <label for="quickstart-game">Choose your adventure:</label>
                        <select id="quickstart-game" aria-label="Select game for quick start links">
                            <option value="skyrimse">Skyrim SE</option>
                            <option value="skyrim">Skyrim LE</option>
                            <option value="skyrimvr">Skyrim VR</option>
                            <option value="oblivion">Oblivion</option>
                            <option value="fallout3">Fallout 3</option>
                            <option value="falloutnv">Fallout New Vegas</option>
                            <option value="fallout4">Fallout 4</option>
                            <option value="starfield">Starfield</option>
                        </select>
                    </div>

                    <div id="quickstart-first-steps" class="quickstart-section">
                        <h3>New to modding? Welcome, adventurer.</h3>
                        <div id="quickstart-first-steps-content">
                            <p class="hint">Loading your essential tools‚Ä¶</p>
                        </div>
                    </div>

                    <div class="quickstart-section">
                        <h3>Where did my build go?</h3>
                        <p>Your generated mod setup appears in <strong>Build a List</strong>, then automatically gets
                            sent to <strong>Analyze</strong> for instant conflict checking. No more juggling tools!</p>
                        <p>
                            <button type="button" class="secondary-button tab-switch" data-tab="build-list">Go to Build
                                a List</button>
                            <button type="button" class="secondary-button tab-switch" data-tab="analyze">Go to
                                Analyze</button>
                        </p>
                    </div>

                    <div class="quickstart-section">
                        <h3>Where do I find my mod list?</h3>
                        <p>Your load order lives in different places depending on your mod manager. Pick yours:</p>
                        <div id="quickstart-mod-managers">
                            <p class="hint">Loading‚Ä¶</p>
                        </div>
                    </div>

                    <div class="quickstart-section">
                        <h3>Can‚Äôt make a square peg fit?</h3>
                        <ul>
                            <li>Paste any style: MO2/Vortex export, plugin names with or without <code>*</code>, one mod
                                per line.</li>
                            <li>Linux/Steam Deck users: use Proton prefix <code>AppData/Local/.../plugins.txt</code>
                                when no manager export is available.</li>
                            <li>macOS users: Bethesda modding is typically non-native; use VM/CrossOver exports and
                                paste directly here.</li>
                        </ul>
                        <p class="hint">If analyze says "not found", keep the plugin filename (e.g.
                            <code>SomeMod.esp</code>) and remove extra commentary text on that line.
                        </p>
                    </div>

                    <div class="quickstart-section">
                        <h3>What does SkyModderAI check?</h3>
                        <p>We use the same data as <a href="https://loot.github.io/" target="_blank"
                                rel="noopener">LOOT</a>‚Äîthe community standard. We look for:</p>
                        <ul>
                            <li><strong>Missing requirements</strong> ‚Äî Mods that need <a
                                    href="https://skse.silverlock.org/" target="_blank" rel="noopener">SKSE</a>/<a
                                    href="https://f4se.silverlock.org/" target="_blank" rel="noopener">F4SE</a>, DLCs,
                                or other mods</li>
                            <li><strong>Load order issues</strong> ‚Äî Mods that should load before or after others</li>
                            <li><strong>Incompatibilities</strong> ‚Äî Mods that conflict</li>
                            <li><strong>Dirty edits</strong> ‚Äî Plugins that need cleaning with <a
                                    href="https://tes5edit.github.io/" target="_blank" rel="noopener">xEdit</a>
                                (SSEEdit, FO4Edit, etc.)</li>
                        </ul>
                    </div>

                    <div class="quickstart-section">
                        <h3>Essential tools &amp; sites</h3>
                        <ul id="quickstart-tools" class="quickstart-tools">
                            <li class="hint">Loading‚Ä¶</li>
                        </ul>
                    </div>

                    <div class="quickstart-section">
                        <h3>Approachable resources for the harder stuff</h3>
                        <p>When SkyModderAI flags dirty edits, load order, or conflicts, these videos and guides walk
                            you through fixing them:</p>
                        <ul id="quickstart-learning" class="quickstart-resources">
                            <li class="hint">Loading‚Ä¶</li>
                        </ul>
                    </div>

                    <p class="quickstart-cta"><button type="button" class="primary-button tab-switch"
                            data-tab="analyze">Paste your list and analyze</button></p>
                </div>
            </section>

            <!-- Build a List: preference-based mod list generation -->
            <section class="tab-panel build-list-panel" id="panel-build-list" role="tabpanel" aria-hidden="true">
                <div class="build-list-content">
                    <h2 class="build-list-title">Build a List</h2>
                    <p class="build-list-intro">Pick your preferences‚Äîgameplay style, visuals, performance‚Äîand we'll
                        generate a mod list, then automatically send it to Analyze and run checks. Add your system specs
                        for performance-aware picks.</p>
                    <div class="build-list-form-wrap">
                        <div class="build-list-game-row">
                            <label for="build-list-game">Game:</label>
                            <select id="build-list-game">
                                <option value="skyrimse">Skyrim SE</option>
                                <option value="skyrim">Skyrim LE</option>
                                <option value="skyrimvr">Skyrim VR</option>
                                <option value="oblivion">Oblivion</option>
                                <option value="fallout3">Fallout 3</option>
                                <option value="fallout4">Fallout 4</option>
                                <option value="falloutnv">Fallout New Vegas</option>
                                <option value="starfield">Starfield</option>
                            </select>
                        </div>
                        <div class="build-list-specs-section">
                            <div class="system-scan-wrap">
                                <button type="button" id="scan-system-btn" class="scan-system-btn"
                                    title="Auto-detect CPU, RAM, GPU, and resolution from your browser">
                                    <span class="scan-system-icon" aria-hidden="true">‚ü≥</span> Scan my system
                                </button>
                                <span id="scan-system-status" class="scan-system-status hint" aria-live="polite"></span>
                            </div>
                            <details class="specs-details" id="specs-details">
                                <summary class="specs-summary">My system specs (optional ‚Äî tailors mod list to your rig)
                                </summary>
                                <div class="specs-form">
                                    <p class="hint">We use your specs to recommend mods that fit your GPU/VRAM, suggest
                                        performance vs ultra options, and improve AI advice. Logged-in: saved to
                                        profile. Guests: saved in browser.</p>
                                    <div class="specs-grid">
                                        <label for="specs-cpu">CPU</label>
                                        <input type="text" id="specs-cpu" placeholder="e.g. AMD Ryzen 5 5600X">
                                        <label for="specs-gpu">GPU</label>
                                        <input type="text" id="specs-gpu" placeholder="e.g. NVIDIA RTX 3060">
                                        <label for="specs-ram">RAM (GB)</label>
                                        <input type="number" id="specs-ram" min="4" max="128" placeholder="16">
                                        <label for="specs-vram">VRAM (GB)</label>
                                        <input type="number" id="specs-vram" min="2" max="24" placeholder="8">
                                        <label for="specs-resolution">Resolution</label>
                                        <input type="text" id="specs-resolution"
                                            placeholder="e.g. 1920x1080, 2560x1440">
                                    </div>
                                    <p class="specs-or">‚Äî or paste Steam System Info ‚Äî</p>
                                    <p class="hint">Steam ‚Üí Help ‚Üí System Information ‚Üí Copy to clipboard, paste below
                                    </p>
                                    <textarea id="specs-steam-paste"
                                        placeholder="Paste Steam System Information here..." rows="4"></textarea>
                                    <button type="button" id="specs-save-btn" class="secondary-button">Save
                                        specs</button>
                                    <span id="specs-status" class="specs-status hint"></span>
                                </div>
                            </details>
                        </div>
                        <div id="build-list-preferences" class="build-list-preferences">
                            <!-- Filled by JS from /api/list-preferences/options -->
                        </div>
                        <div class="build-list-actions">
                            <label class="build-list-pro-check" id="build-list-pro-check-wrap">
                                <input type="checkbox" id="build-list-pro-setups"
                                    title="AI generates multiple setup combinations">
                                <span>AI multiple setups</span>
                            </label>
                            <button type="button" id="build-list-btn" class="primary-button">Generate List</button>
                        </div>
                    </div>
                    <div id="build-list-results" class="build-list-results hidden">
                        <h3>Your Mod List</h3>
                        <p class="hint">Smart flow: this list is auto-sent to Analyze right after generation.</p>
                        <div id="build-list-mods" class="build-list-mods"></div>
                        <div id="build-list-setups" class="build-list-setups hidden"></div>
                        <div class="build-list-export-actions">
                            <button type="button" id="build-list-copy-btn" class="secondary-button">Copy as
                                plugins.txt</button>
                            <button type="button" id="build-list-to-analyze-btn" class="secondary-button">Re-run
                                Analyze</button>
                        </div>
                    </div>
                </div>
            </section>

            <!-- Gameplay Companion Engine -->
            <section class="tab-panel gameplay-panel" id="panel-gameplay" role="tabpanel" aria-hidden="true">
                <div id="gameplay-container" class="gameplay-content"></div>
            </section>

            <!-- Library: Pro feature for managing saved modlists with metadata -->
            <section class="tab-panel library-panel" id="panel-library" role="tabpanel" aria-hidden="true">
                <div class="library-content">
                    <div class="library-header">
                        <h2 class="library-title">Library</h2>
                        <p class="library-intro">Your saved modlists with full metadata. Search, filter, analyze, and
                            manage your research.</p>
                    </div>

                    <div class="library-controls">
                        <div class="library-search-wrap">
                            <input type="search" id="library-search" placeholder="Search by name, tags, or notes..."
                                class="library-search-input" aria-label="Search library">
                            <button type="button" id="library-search-clear" class="library-search-clear hidden"
                                title="Clear search" aria-label="Clear search">&times;</button>
                        </div>
                        <div class="library-filters">
                            <select id="library-filter-game" class="library-filter-select" title="Filter by game">
                                <option value="">All games</option>
                                <option value="skyrimse">Skyrim SE</option>
                                <option value="skyrim">Skyrim LE</option>
                                <option value="skyrimvr">Skyrim VR</option>
                                <option value="oblivion">Oblivion</option>
                                <option value="fallout3">Fallout 3</option>
                                <option value="falloutnv">Fallout New Vegas</option>
                                <option value="fallout4">Fallout 4</option>
                                <option value="starfield">Starfield</option>
                            </select>
                            <select id="library-filter-version" class="library-filter-select"
                                title="Filter by game version">
                                <option value="">All versions</option>
                            </select>
                            <select id="library-filter-masterlist" class="library-filter-select"
                                title="Filter by LOOT version">
                                <option value="">All LOOT versions</option>
                            </select>
                            <button type="button" id="library-refresh-btn" class="secondary-button"
                                title="Refresh library">Refresh</button>
                        </div>
                    </div>

                    <div id="library-status" class="library-status hint" aria-live="polite"></div>

                    <div id="library-grid" class="library-grid">
                        <p class="hint library-loading">Loading your library...</p>
                    </div>
                </div>
            </section>

            <!-- Community: robust, no ads ever -->
            <section class="tab-panel community-panel" id="panel-community" role="tabpanel" aria-hidden="true">
                <div class="community-content">
                    <h2 class="community-title">Community</h2>
                    <p class="community-intro">Share tips, ask questions, celebrate a stable load order. We're all here
                        because we love these games. No ads, ever.</p>
                    <div class="quickstart-section">
                        <h3>New here? Easy first post ideas</h3>
                        <ul>
                            <li>Your game + mod manager + plugin count</li>
                            <li>One crash or conflict you solved this week</li>
                            <li>A tool or guide that saved your load order</li>
                        </ul>
                    </div>

                    {% if session.get('user_email') %}
                    <div class="community-post-form">
                        <div class="community-post-tags">
                            <label class="hint">Tag:</label>
                            <select id="community-post-tag">
                                <option value="general">General</option>
                                <option value="tip">Tip</option>
                                <option value="help">Help</option>
                                <option value="celebration">Celebration</option>
                                <option value="skyrim">Skyrim</option>
                                <option value="fallout">Fallout</option>
                                <option value="starfield">Starfield</option>
                                <option value="tool">Tool</option>
                                <option value="dev">Dev</option>
                            </select>
                        </div>
                        <textarea id="community-post-input" placeholder="Share a tip, ask a question, or say hi..."
                            rows="3" maxlength="2000"></textarea>
                        <div class="community-post-actions">
                            <span id="community-char-count" class="hint">0 / 2000</span>
                            <button type="button" id="community-post-btn" class="primary-button">Post</button>
                        </div>
                    </div>
                    {% else %}
                    <p class="community-signin-cta"><a href="{{ url_for('auth', tab='login') }}">Sign in</a> to post.
                        It's free.</p>
                    {% endif %}

                    <details class="community-guidelines">
                        <summary>Community guidelines</summary>
                        <p>We're here for modding‚Äîtips, help, wins, and the games we love. No ads, ever. We're not about
                            censorship; we're about a space that works. Vote, share, help each other.</p>
                        <p><strong>We draw the line at:</strong> illegal activity, trafficking, off-topic spam. Keep it
                            useful. Low-effort or off-topic posts get downvoted‚Äîthat's the community speaking.</p>
                    </details>
                    <div class="community-filters">
                        <div class="community-sort-row">
                            <span class="community-sort-label">Sort:</span>
                            <div class="community-sort-btns">
                                <button type="button" class="community-sort-btn active" data-sort="new"
                                    title="Newest first">New</button>
                                <button type="button" class="community-sort-btn" data-sort="top"
                                    title="Most votes">Top</button>
                                <button type="button" class="community-sort-btn" data-sort="hot"
                                    title="Trending (votes + recency)">Hot</button>
                            </div>
                        </div>
                        <div class="community-filter-tags">
                            <button type="button" class="community-tag-btn active" data-tag="">All</button>
                            <button type="button" class="community-tag-btn" data-tag="tip">Tips</button>
                            <button type="button" class="community-tag-btn" data-tag="help">Help</button>
                            <button type="button" class="community-tag-btn" data-tag="celebration">Wins</button>
                            <button type="button" class="community-tag-btn" data-tag="skyrim">Skyrim</button>
                            <button type="button" class="community-tag-btn" data-tag="fallout">Fallout</button>
                            <button type="button" class="community-tag-btn" data-tag="starfield">Starfield</button>
                            <button type="button" class="community-tag-btn" data-tag="dev">Dev</button>
                        </div>
                        <input type="search" id="community-search" placeholder="Search posts..."
                            class="community-search-input" aria-label="Search community posts">
                    </div>
                    <div id="community-health" class="quickstart-section">
                        <h3>Community pulse</h3>
                        <p class="hint" id="community-health-text">Loading community metrics‚Ä¶</p>
                    </div>

                    <div id="community-feed" class="community-feed">
                        <p class="hint community-loading">Loading...</p>
                    </div>
                </div>
            </section>

            <!-- Developer Tools Panel -->
            {% include "includes/dev_panel.html" %}

        </main>
        <!-- Footer -->
        <footer>
            <p>I've been modding since 2012. Hundreds of mods, one crash, no idea why. This is the tool I built so we
                don't have to guess anymore. For everyone who keeps coming back to Skyrim, Fallout, Starfield‚Äîand the
                worlds we make our own.</p>
            <p>Built on LOOT data, enhanced with AI and community knowledge. 
                <a href="https://github.com/SamsonProject/SkyModderAI" target="_blank"
                    rel="noopener noreferrer">Open source on GitHub</a>. Not affiliated with Bethesda or LOOT.</p>
            <div class="footer-resources">
                <span class="footer-resources-label">Community &amp; tools:</span>
                <a href="https://www.nexusmods.com/" target="_blank" rel="noopener noreferrer" title="Nexus Mods"><img
                        src="/static/icons/nexus.svg" alt="" width="20" height="20"> Nexus Mods</a>
                <a href="https://loot.github.io/" target="_blank" rel="noopener noreferrer" title="LOOT"><img
                        src="/static/icons/loot.svg" alt="" width="20" height="20"> LOOT</a>
                <a href="https://tes5edit.github.io/" target="_blank" rel="noopener noreferrer" title="xEdit"><img
                        src="/static/icons/xedit.svg" alt="" width="20" height="20"> xEdit</a>
                <a href="https://www.nexusmods.com/skyrimspecialedition/mods/6194" target="_blank"
                    rel="noopener noreferrer" title="Mod Organizer 2"><img src="/static/icons/mo2.svg" alt="" width="20"
                        height="20"> MO2</a>
                <a href="https://www.nexusmods.com/site/mods/1" target="_blank" rel="noopener noreferrer"
                    title="Vortex"><img src="/static/icons/vortex.svg" alt="" width="20" height="20"> Vortex</a>
                <a href="https://www.wabbajack.org/" target="_blank" rel="noopener noreferrer" title="Wabbajack"><img
                        src="/static/icons/wabbajack.svg" alt="" width="20" height="20"> Wabbajack</a>
            </div>
            <p class="footer-links">SkyModderAI ¬© 2026 | <a href="/terms">Terms</a> | <a href="/privacy">Privacy</a> |
                <a href="/safety">Safety</a> | <a href="/api">API</a> | <a
                    href="mailto:support@skymodderai.com">Support</a> | <a href="tel:+12069157203">(206) 915-7203</a>
            </p>
        </footer>
    </div>
    <button type="button" id="feedback-fab" class="secondary-button"
        style="position:fixed;right:18px;bottom:18px;z-index:40;">Feedback</button>
    <div id="feedback-modal" class="modal hidden" aria-hidden="true">
        <div class="modal-backdrop" id="feedback-modal-backdrop"></div>
        <div class="modal-content">
            <button type="button" class="modal-close" id="feedback-modal-close" aria-label="Close">&times;</button>
            <h3>Help improve SkyModderAI</h3>
            <p class="hint">Report bugs, complaints, ideas, or wins. This goes directly into our improvement queue.</p>
            <label for="feedback-type">Type</label>
            <select id="feedback-type">
                <option value="bug">Bug</option>
                <option value="feature">Feature idea</option>
                <option value="complaint">Complaint</option>
                <option value="praise">Praise</option>
                <option value="question">Question</option>
            </select>
            <label for="feedback-category">Category</label>
            <select id="feedback-category">
                <option value="analysis">Analysis</option>
                <option value="community">Community</option>
                <option value="ui">UI</option>
                <option value="performance">Performance</option>
                <option value="billing">Billing</option>
                <option value="openclaw">OpenCLAW (coming soon)</option>
                <option value="other">Other</option>
            </select>
            <label for="feedback-content">Details</label>
            <textarea id="feedback-content" rows="4"
                placeholder="What happened, what you expected, and what would help."></textarea>
            <div class="modal-actions">
                <button type="button" class="secondary-button" id="feedback-modal-cancel">Cancel</button>
                <button type="button" class="primary-button" id="feedback-submit-btn">Send feedback</button>
            </div>
            <p id="feedback-status" class="hint"></p>
        </div>
    </div>
    <!-- Checkout modal: email only, no signup required -->
    <div id="checkout-modal" class="modal hidden" aria-hidden="true">
        <div class="modal-backdrop" id="checkout-modal-backdrop"></div>
        <div class="modal-content">
            <button type="button" class="modal-close" id="checkout-modal-close" aria-label="Close">&times;</button>
            <h3>‚òï Keep SkyModderAI Free</h3>
            <p class="modal-tagline">
                This tool is 100% free. No paywalls. No premium tiers.<br>
                If it saved you time or headaches, consider supporting:
            </p>
            <div class="donation-amounts">
                <button type="button" class="donation-amount" data-amount="5">$5 ‚Äî Coffee</button>
                <button type="button" class="donation-amount" data-amount="10">$10 ‚Äî Lunch</button>
                <button type="button" class="donation-amount" data-amount="20">$20 ‚Äî Keeps the lights on</button>
                <button type="button" class="donation-amount" data-amount="50">$50 ‚Äî You're amazing</button>
            </div>
            <form id="checkout-form">
                <label for="checkout-email">Email (for receipt)</label>
                <input type="email" id="checkout-email" placeholder="you@example.com" required>
                <label for="checkout-amount">Amount</label>
                <input type="number" id="checkout-amount" min="1" max="1000" value="5" required>
                <p class="hint">Your donation pays for servers, APIs, and my ramen budget. Thank you. üçú</p>
                <div class="modal-actions">
                    <button type="button" class="secondary-button" id="checkout-modal-cancel">Cancel</button>
                    <button type="submit" class="primary-button" id="checkout-submit-btn">Donate with Stripe</button>
                </div>
            </form>
            <div class="donation-alternatives">
                <p>Other ways to support:</p>
                <a href="https://patreon.com/skymodderai" target="_blank" rel="noopener">Patreon (monthly)</a> ¬∑
                <a href="https://github.com/sponsors/samsonproject" target="_blank" rel="noopener">GitHub Sponsors</a> ¬∑
                <a href="https://paypal.me/skymodderai" target="_blank" rel="noopener">PayPal</a>
            </div>
        </div>
    </div>
    <!-- Link preview popover (Obsidian-style hover) -->
    <div id="link-preview-popover" class="link-preview-popover" role="tooltip" aria-live="polite" aria-hidden="true">
        <iframe id="link-preview-iframe" class="link-preview-iframe" src="about:blank" title="Link preview"></iframe>
    </div>
    <!-- Command palette (Cmd+K / Ctrl+K) -->
    <div id="command-palette" class="command-palette hidden" role="dialog" aria-label="Command palette"
        aria-modal="true">
        <div class="command-palette-backdrop"></div>
        <div class="command-palette-content">
            <div class="command-palette-search-wrap">
                <span class="command-palette-icon" aria-hidden="true">‚åò</span>
                <input type="text" id="command-palette-input" placeholder="Type to filter commands‚Ä¶" autocomplete="off"
                    aria-label="Filter commands">
            </div>
            <div id="command-palette-results" class="command-palette-results"></div>
            <p class="command-palette-hint"><kbd>‚Üë</kbd><kbd>‚Üì</kbd> navigate ¬∑ <kbd>Enter</kbd> run ¬∑ <kbd>Esc</kbd>
                close</p>
        </div>
    </div>
    <script src="/static/icons/logo-icons.js"></script>
    <script src="/static/js/walkthrough.js"></script>
    <script src="/static/js/modern-ui.js"></script>
    <script src="/static/js/link-architecture.js"></script>
    <script src="/static/js/app.js"></script>
    </body>

</html>
<script>
// Mod Author Tools JavaScript
document.addEventListener('DOMContentLoaded', function() {
    // Author Mode Toggle
    const authorModeToggle = document.getElementById('author-mode-toggle');
    const analyzePanel = document.getElementById('panel-analyze');
    let isAuthorMode = true;
    
    authorModeToggle?.addEventListener('click', function() {
        isAuthorMode = !isAuthorMode;
        this.textContent = isAuthorMode ? 'üë§ Player Mode' : 'üõ†Ô∏è Author Mode';
        analyzePanel.classList.toggle('author-mode-active', isAuthorMode);
    });
    
    // Author Tool Navigation
    document.querySelectorAll('[data-author-tool]').forEach(link => {
        link.addEventListener('click', function(e) {
            e.preventDefault();
            const toolName = this.dataset.authorTool;
            
            // Hide all panels
            document.querySelectorAll('.author-tool-panel').forEach(panel => {
                panel.style.display = 'none';
            });
            
            // Show selected panel
            const selectedPanel = document.getElementById(`author-tool-${toolName}`);
            if (selectedPanel) {
                selectedPanel.style.display = 'block';
            }
            
            // Update active state
            document.querySelectorAll('[data-author-tool]').forEach(l => {
                l.style.background = 'var(--bg-input)';
            });
            this.style.background = 'rgba(0, 212, 232, 0.1)';
        });
    });
    
    // Papyrus Script Analysis
    document.getElementById('papyrus-analyze-btn')?.addEventListener('click', async function() {
        const fileInput = document.getElementById('papyrus-file');
        const resultsEl = document.getElementById('papyrus-results');
        
        if (!fileInput.files || fileInput.files.length === 0) {
            resultsEl.innerHTML = '<p style="color: var(--error);">Please select a .psc file</p>';
            return;
        }
        
        const file = fileInput.files[0];
        if (!file.name.endsWith('.psc')) {
            resultsEl.innerHTML = '<p style="color: var(--error);">Please select a valid Papyrus script file (.psc)</p>';
            return;
        }
        
        resultsEl.innerHTML = '<p style="color: var(--text-secondary); text-align: center;">Analyzing script...</p>';
        
        // Read file content
        const reader = new FileReader();
        reader.onload = async function(e) {
            const scriptContent = e.target.result;
            
            // Basic Papyrus analysis (would need backend for full analysis)
            const analysis = {
                issues: [],
                warnings: [],
                suggestions: []
            };
            
            // Check for common issues
            if (scriptContent.includes('Debug.Notification')) {
                analysis.warnings.push('Uses Debug.Notification - consider removing for release builds');
            }
            if (scriptContent.includes('Utility.Wait')) {
                analysis.warnings.push('Uses Utility.Wait - may cause script lag if used excessively');
            }
            if ((scriptContent.match(/Event/g) || []).length > 10) {
                analysis.suggestions.push('Many events detected - consider using event filters for performance');
            }
            if (scriptContent.length > 50000) {
                analysis.suggestions.push('Large script - consider breaking into smaller modules');
            }
            
            // Display results
            let html = '<h5 style="margin-bottom: var(--space-sm);">üìä Script Analysis Results</h5>';
            
            if (analysis.issues.length > 0) {
                html += '<div style="margin-bottom: var(--space-md);">';
                html += '<div style="color: var(--error); font-weight: 600; margin-bottom: var(--space-xs);">‚ùå Issues:</div>';
                analysis.issues.forEach(issue => {
                    html += `<div style="padding: var(--space-xs); background: var(--bg-input); border-radius: var(--radius-sm); margin-bottom: var(--space-xs); font-size: 0.9rem;">${issue}</div>`;
                });
                html += '</div>';
            }
            
            if (analysis.warnings.length > 0) {
                html += '<div style="margin-bottom: var(--space-md);">';
                html += '<div style="color: var(--warning); font-weight: 600; margin-bottom: var(--space-xs);">‚ö†Ô∏è Warnings:</div>';
                analysis.warnings.forEach(warning => {
                    html += `<div style="padding: var(--space-xs); background: var(--bg-input); border-radius: var(--radius-sm); margin-bottom: var(--space-xs); font-size: 0.9rem;">${warning}</div>`;
                });
                html += '</div>';
            }
            
            if (analysis.suggestions.length > 0) {
                html += '<div style="margin-bottom: var(--space-md);">';
                html += '<div style="color: var(--accent-primary); font-weight: 600; margin-bottom: var(--space-xs);">üí° Suggestions:</div>';
                analysis.suggestions.forEach(suggestion => {
                    html += `<div style="padding: var(--space-xs); background: var(--bg-input); border-radius: var(--radius-sm); margin-bottom: var(--space-xs); font-size: 0.9rem;">${suggestion}</div>`;
                });
                html += '</div>';
            }
            
            if (analysis.issues.length === 0 && analysis.warnings.length === 0 && analysis.suggestions.length === 0) {
                html = '<p style="color: var(--success); text-align: center; padding: var(--space-xl);">‚úÖ Script looks clean! No issues detected.</p>';
            }
            
            resultsEl.innerHTML = html;
        };
        reader.readAsText(file);
    });
    
    // Author Compatibility Test
    document.getElementById('author-compat-test-btn')?.addEventListener('click', async function() {
        const modName = document.getElementById('author-mod-name').value;
        const resultsEl = document.getElementById('author-compat-results');
        
        if (!modName) {
            resultsEl.innerHTML = '<p style="color: var(--error);">Please enter your mod name</p>';
            return;
        }
        
        resultsEl.innerHTML = '<p style="color: var(--text-secondary); text-align: center;">Testing compatibility...</p>';
        
        // Popular mods to test against
        const popularMods = [
            'USSEP.esp',
            'SkyUI.esp',
            'Ordinator - Perks of Skyrim.esp',
            'Immersive Citizens - AI Overhaul.esp',
            'Open Cities Skyrim.esp',
            'Alternate Start - Live Another Life.esp'
        ];
        
        const modList = [modName, ...popularMods].join('\n');
        
        try {
            const response = await fetch('/api/analyze', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ mod_list: modList, game: 'skyrimse' })
            });
            const data = await response.json();
            
            if (data.conflicts && data.conflicts.length > 0) {
                const yourModConflicts = data.conflicts.filter(c => 
                    c.affected_mod?.toLowerCase().includes(modName.toLowerCase())
                );
                
                if (yourModConflicts.length > 0) {
                    resultsEl.innerHTML = `<h5 style="margin-bottom: var(--space-sm); color: var(--warning);">‚ö†Ô∏è Found ${yourModConflicts.length} compatibility issues:</h5>` +
                        yourModConflicts.map(c => `
                            <div style="padding: var(--space-sm); background: var(--bg-input); border-left: 3px solid var(--${c.severity === 'error' ? 'error' : 'warning'}); border-radius: var(--radius-sm); margin-bottom: var(--space-sm);">
                                <div style="font-weight: 600; color: var(--${c.severity === 'error' ? 'error' : 'warning'});">${c.type.toUpperCase()}</div>
                                <div style="font-size: 0.9rem;">${c.message}</div>
                                ${c.suggested_action ? `<div style="font-size: 0.85rem; color: var(--accent-primary); margin-top: var(--space-xs);">üí° ${c.suggested_action}</div>` : ''}
                            </div>
                        `).join('');
                } else {
                    resultsEl.innerHTML = '<p style="color: var(--success); text-align: center; padding: var(--space-xl);">‚úÖ No conflicts detected! Your mod appears compatible with popular mods.</p>';
                }
            } else {
                resultsEl.innerHTML = '<p style="color: var(--success); text-align: center; padding: var(--space-xl);">‚úÖ No conflicts detected! Your mod appears compatible with popular mods.</p>';
            }
        } catch (e) {
            resultsEl.innerHTML = `<p style="color: var(--error); text-align: center; padding: var(--space-xl);">Error: ${e.message}</p>`;
        }
    });
    
    // New Project Button
    document.getElementById('new-project-btn')?.addEventListener('click', function() {
        alert('Project sharing feature coming soon! This will allow you to share work-in-progress mods with other authors for feedback and collaboration.');
    });
});
</script>
