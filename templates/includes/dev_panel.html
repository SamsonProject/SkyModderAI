<!-- MOD AUTHOR TOOLS - Dedicated tab for mod creators -->
<section class="tab-panel dev-panel" id="panel-dev" role="tabpanel" aria-hidden="true">
    <div class="dev-content" style="padding: var(--space-xl);">
        <div style="max-width: 1400px; margin: 0 auto;">
            <h2 style="font-size: 2rem; margin-bottom: var(--space-lg);">üõ†Ô∏è Mod Author Tools</h2>
            <p style="font-size: 1.1rem; color: var(--text-secondary); margin-bottom: var(--space-xl);">
                Complete toolkit for mod creators: script analysis, compatibility testing, load order validation, and community collaboration.
            </p>

            <!-- Quick Stats -->
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(200px, 1fr)); gap: var(--space-md); margin-bottom: var(--space-xl);">
                <div style="padding: var(--space-md); background: var(--bg-card); border-radius: var(--radius-lg);">
                    <div style="font-size: 0.9rem; color: var(--text-secondary);">Your Mods Tracked</div>
                    <div id="author-mods-count" style="font-size: 2rem; font-weight: 700; color: var(--accent-primary);">--</div>
                </div>
                <div style="padding: var(--space-md); background: var(--bg-card); border-radius: var(--radius-lg);">
                    <div style="font-size: 0.9rem; color: var(--text-secondary);">Known Conflicts</div>
                    <div id="author-conflicts-count" style="font-size: 2rem; font-weight: 700; color: var(--warning);">--</div>
                </div>
                <div style="padding: var(--space-md); background: var(--bg-card); border-radius: var(--radius-lg);">
                    <div style="font-size: 0.9rem; color: var(--text-secondary);">Compatibility Patches</div>
                    <div id="author-patches-count" style="font-size: 2rem; font-weight: 700; color: var(--success);">--</div>
                </div>
            </div>

            <!-- Papyrus Script Analysis -->
            <div style="background: var(--bg-card); border-radius: var(--radius-lg); padding: var(--space-xl); margin-bottom: var(--space-xl);">
                <h3 style="margin-bottom: var(--space-md);">üìú Papyrus Script Analysis</h3>
                <p style="color: var(--text-secondary); margin-bottom: var(--space-md);">
                    Analyze your .psc scripts for common issues, optimization opportunities, and best practices.
                </p>
                <div style="display: grid; gap: var(--space-md);">
                    <div>
                        <label style="display: block; margin-bottom: var(--space-xs); font-size: 0.9rem; color: var(--text-secondary);">Upload Papyrus Script (.psc):</label>
                        <input type="file" id="papyrus-file" accept=".psc" style="width: 100%; padding: var(--space-sm); background: var(--bg-input); border: 1px solid var(--border); border-radius: var(--radius-sm); color: var(--text-primary);">
                    </div>
                    <button type="button" id="papyrus-analyze-btn" class="primary-button">üîç Analyze Script</button>
                    <div id="papyrus-results" style="padding: var(--space-md); background: var(--bg-input); border-radius: var(--radius-sm);">
                        <p style="color: var(--text-secondary);">Upload a .psc file to analyze for common issues, optimization opportunities, and best practices...</p>
                    </div>
                </div>
            </div>

            <!-- Mod Compatibility Checker -->
            <div style="background: var(--bg-card); border-radius: var(--radius-lg); padding: var(--space-xl); margin-bottom: var(--space-xl);">
                <h3 style="margin-bottom: var(--space-md);">‚öîÔ∏è Mod Compatibility Checker</h3>
                <p style="color: var(--text-secondary); margin-bottom: var(--space-md);">
                    Test your mod against any mod in the LOOT database. Find conflicts before your users do.
                </p>

                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--space-md);">
                    <div>
                        <label style="display: block; margin-bottom: var(--space-xs); font-size: 0.9rem; color: var(--text-secondary);">Your Mod:</label>
                        <input type="text" id="compat-your-mod" placeholder="YourMod.esp" style="width: 100%; padding: var(--space-sm); background: var(--bg-input); border: 1px solid var(--border); border-radius: var(--radius-sm); color: var(--text-primary); font-family: monospace;">
                        <p style="font-size: 0.85rem; color: var(--text-secondary); margin-top: var(--space-xs);">Enter your mod's ESP/ESM/ESL name</p>
                    </div>
                    <div>
                        <label style="display: block; margin-bottom: var(--space-xs); font-size: 0.9rem; color: var(--text-secondary);">Game:</label>
                        <select id="compat-game" style="width: 100%; padding: var(--space-sm); background: var(--bg-input); border: 1px solid var(--border); border-radius: var(--radius-sm); color: var(--text-primary);">
                            <option value="skyrimse">Skyrim SE</option>
                            <option value="skyrim">Skyrim LE</option>
                            <option value="skyrimvr">Skyrim VR</option>
                            <option value="fallout4">Fallout 4</option>
                            <option value="falloutnv">Fallout: New Vegas</option>
                            <option value="fallout3">Fallout 3</option>
                            <option value="oblivion">Oblivion</option>
                            <option value="starfield">Starfield</option>
                        </select>
                    </div>
                </div>

                <!-- Import Options Tabs -->
                <div style="margin-top: var(--space-lg);">
                    <div style="display: flex; gap: var(--space-xs); margin-bottom: var(--space-md); border-bottom: 1px solid var(--border);">
                        <button type="button" class="compat-tab-btn active" data-tab="search" style="padding: var(--space-sm) var(--space-md); background: var(--accent-primary); color: white; border: none; border-radius: var(--radius-sm) var(--radius-sm) 0 0; cursor: pointer; font-weight: 600;">üîç Search</button>
                        <button type="button" class="compat-tab-btn" data-tab="paste" style="padding: var(--space-sm) var(--space-md); background: var(--bg-input); color: var(--text-primary); border: none; border-radius: var(--radius-sm) var(--radius-sm) 0 0; cursor: pointer;">üìã Paste List</button>
                        <button type="button" class="compat-tab-btn" data-tab="import" style="padding: var(--space-sm) var(--space-md); background: var(--bg-input); color: var(--text-primary); border: none; border-radius: var(--radius-sm) var(--radius-sm) 0 0; cursor: pointer;">üìÅ Import File</button>
                        <button type="button" class="compat-tab-btn" data-tab="community" style="padding: var(--space-sm) var(--space-md); background: var(--bg-input); color: var(--text-primary); border: none; border-radius: var(--radius-sm) var(--radius-sm) 0 0; cursor: pointer;">üî• Community Builds</button>
                    </div>

                    <!-- Search Tab -->
                    <div id="compat-tab-search" class="compat-tab-content">
                        <label style="display: block; margin-bottom: var(--space-xs); font-size: 0.9rem; color: var(--text-secondary);">Search & Select Mods to Test Against:</label>
                        <div style="position: relative; margin-bottom: var(--space-sm);">
                            <input type="text" id="compat-search-input" placeholder="Start typing to search mods (e.g., USSEP, SkyUI, Ordinator)..."
                                style="width: 100%; padding: var(--space-sm) var(--space-md); background: var(--bg-input); border: 1px solid var(--border); border-radius: var(--radius-sm); color: var(--text-primary); font-size: 1rem;"
                                autocomplete="off">
                            <div id="compat-search-results" style="position: absolute; top: 100%; left: 0; right: 0; max-height: 300px; overflow-y: auto; background: var(--bg-card); border: 1px solid var(--border); border-radius: var(--radius-sm); box-shadow: 0 4px 12px rgba(0,0,0,0.3); z-index: 1000; display: none;"></div>
                        </div>
                        <p style="font-size: 0.85rem; color: var(--text-secondary); margin-bottom: var(--space-sm);">Type 2+ characters to search the LOOT database. Select mods to add them to your test list.</p>
                    </div>

                    <!-- Paste List Tab -->
                    <div id="compat-tab-paste" class="compat-tab-content" style="display: none;">
                        <label style="display: block; margin-bottom: var(--space-xs); font-size: 0.9rem; color: var(--text-secondary);">Paste Mod List (one per line):</label>
                        <textarea id="compat-paste-input" rows="8" placeholder="USSEP.esp&#10;SkyUI.esp&#10;Ordinator - Perks of Skyrim.esp&#10;Immersive Citizens - AI Overhaul.esp&#10;Open Cities Skyrim.esp" style="width: 100%; padding: var(--space-sm); background: var(--bg-input); border: 1px solid var(--border); border-radius: var(--radius-sm); color: var(--text-primary); font-family: monospace; font-size: 0.9rem;"></textarea>
                        <p style="font-size: 0.85rem; color: var(--text-secondary); margin-top: var(--space-xs);">Paste from plugins.txt, modlist.txt, or your load order. One mod per line.</p>
                        <button type="button" id="compat-add-paste-btn" class="secondary-button" style="margin-top: var(--space-sm);">‚ûï Add Mods from List</button>
                    </div>

                    <!-- Import File Tab -->
                    <div id="compat-tab-import" class="compat-tab-content" style="display: none;">
                        <label style="display: block; margin-bottom: var(--space-xs); font-size: 0.9rem; color: var(--text-secondary);">Import from File:</label>
                        <input type="file" id="compat-file-input" accept=".txt,.esp,.esm,.esl" style="width: 100%; padding: var(--space-sm); background: var(--bg-input); border: 1px solid var(--border); border-radius: var(--radius-sm); color: var(--text-primary);">
                        <p style="font-size: 0.85rem; color: var(--text-secondary); margin-top: var(--space-xs);">Supports: plugins.txt, modlist.txt, MO2 modlist.txt, or any text file with mod names.</p>
                        <button type="button" id="compat-add-file-btn" class="secondary-button" style="margin-top: var(--space-sm);">üìÅ Import and Add Mods</button>
                    </div>

                    <!-- Community Builds Tab -->
                    <div id="compat-tab-community" class="compat-tab-content" style="display: none;">
                        <label style="display: block; margin-bottom: var(--space-xs); font-size: 0.9rem; color: var(--text-secondary);">Browse Community Builds:</label>
                        <div style="margin-bottom: var(--space-sm);">
                            <select id="community-build-game" style="padding: var(--space-sm); background: var(--bg-input); border: 1px solid var(--border); border-radius: var(--radius-sm); color: var(--text-primary); width: 100%;">
                                <option value="">Select a game...</option>
                                <option value="skyrimse">Skyrim SE</option>
                                <option value="skyrim">Skyrim LE</option>
                                <option value="skyrimvr">Skyrim VR</option>
                                <option value="fallout4">Fallout 4</option>
                                <option value="falloutnv">Fallout New Vegas</option>
                                <option value="fallout3">Fallout 3</option>
                                <option value="oblivion">Oblivion</option>
                                <option value="starfield">Starfield</option>
                            </select>
                        </div>
                        <div id="community-builds-list" style="max-height: 400px; overflow-y: auto; padding: var(--space-sm); background: var(--bg-input); border-radius: var(--radius-sm);">
                            <p style="color: var(--text-secondary); text-align: center; padding: var(--space-md);">Select a game to browse community-submitted builds. Builds are free, community-curated, and not for sale.</p>
                        </div>
                        <p style="font-size: 0.85rem; color: var(--text-secondary); margin-top: var(--space-xs);">
                            üí° <strong>Note:</strong> These builds are submitted by the community. Some are seeded from popular Wabbajack/Nexus lists and will be replaced as users submit their own.
                        </p>
                    </div>
                </div>

                <!-- Selected Mods Tags -->
                <div style="margin-top: var(--space-md);">
                    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: var(--space-xs);">
                        <label style="font-size: 0.9rem; color: var(--text-secondary);">Selected Mods (<span id="compat-count">0</span>):</label>
                        <div style="display: flex; gap: var(--space-xs);">
                            <button type="button" id="compat-clear-all-btn" class="secondary-button" style="font-size: 0.85rem; padding: var(--space-xs) var(--space-sm);">üóëÔ∏è Clear All</button>
                            <button type="button" id="compat-export-btn" class="secondary-button" style="font-size: 0.85rem; padding: var(--space-xs) var(--space-sm);">üìã Export List</button>
                        </div>
                    </div>
                    <div id="compat-selected-mods" style="display: flex; flex-wrap: wrap; gap: var(--space-xs); padding: var(--space-sm); background: var(--bg-input); border-radius: var(--radius-sm); min-height: 50px;">
                        <span style="color: var(--text-secondary); font-size: 0.9rem; padding: var(--space-xs);">No mods selected yet. Search, paste, import, or select from popular mods...</span>
                    </div>
                </div>

                <button type="button" id="compat-check-btn" class="primary-button" style="margin-top: var(--space-md); width: 100%;">
                    üîç Check Compatibility
                </button>

                <div id="compat-results" style="margin-top: var(--space-md); padding: var(--space-md); background: var(--bg-input); border-radius: var(--radius-sm);">
                    <p style="color: var(--text-secondary); text-align: center;">Add mods to test against, then click "Check Compatibility" to see results...</p>
                </div>
            </div>

            <!-- Load Order Validator -->
            <div style="background: var(--bg-card); border-radius: var(--radius-lg); padding: var(--space-xl); margin-bottom: var(--space-xl);">
                <h3 style="margin-bottom: var(--space-md);">üìã Load Order Validator</h3>
                <p style="color: var(--text-secondary); margin-bottom: var(--space-md);">
                    Where should your mod load? Get LOOT-based recommendations for optimal placement.
                </p>

                <div style="display: grid; gap: var(--space-md);">
                    <div>
                        <label style="display: block; margin-bottom: var(--space-xs); font-size: 0.9rem; color: var(--text-secondary);">Your Mod:</label>
                        <input type="text" id="loadorder-mod" placeholder="YourMod.esp" style="width: 100%; padding: var(--space-sm); background: var(--bg-input); border: 1px solid var(--border); border-radius: var(--radius-sm); color: var(--text-primary); font-family: monospace;">
                    </div>

                    <div>
                        <label style="display: block; margin-bottom: var(--space-xs); font-size: 0.9rem; color: var(--text-secondary);">Test Load Order (one mod per line, top to bottom):</label>
                        <textarea id="loadorder-list" rows="8" placeholder="USSEP.esp&#10;SkyUI.esp&#10;YourMod.esp&#10;Ordinator - Perks of Skyrim.esp" style="width: 100%; padding: var(--space-sm); background: var(--bg-input); border: 1px solid var(--border); border-radius: var(--radius-sm); color: var(--text-primary); font-family: monospace; font-size: 0.9rem;"></textarea>
                    </div>

                    <button type="button" id="loadorder-validate-btn" class="primary-button">
                        üìä Validate Load Order
                    </button>

                    <div id="loadorder-results" style="padding: var(--space-md); background: var(--bg-input); border-radius: var(--radius-sm);">
                        <p style="color: var(--text-secondary);">Results will show load order violations, suggested moves, and compatibility notes...</p>
                    </div>
                </div>
            </div>

            <!-- Requirements Checker -->
            <div style="background: var(--bg-card); border-radius: var(--radius-lg); padding: var(--space-xl); margin-bottom: var(--space-xl);">
                <h3 style="margin-bottom: var(--space-md);">‚úÖ Requirements Validator</h3>
                <p style="color: var(--text-secondary); margin-bottom: var(--space-md);">
                    Validate your mod's requirements. Ensure users have what they need.
                </p>

                <div style="display: grid; gap: var(--space-md);">
                    <div>
                        <label style="display: block; margin-bottom: var(--space-xs); font-size: 0.9rem; color: var(--text-secondary);">Your Mod Name:</label>
                        <input type="text" id="req-your-mod" placeholder="YourMod" style="width: 100%; padding: var(--space-sm); background: var(--bg-input); border: 1px solid var(--border); border-radius: var(--radius-sm); color: var(--text-primary);">
                    </div>

                    <div>
                        <label style="display: block; margin-bottom: var(--space-xs); font-size: 0.9rem; color: var(--text-secondary);">Listed Requirements (one per line):</label>
                        <textarea id="req-list" rows="6" placeholder="USSEP&#10;SkyUI&#10;Address Library for SKSE Plugins" style="width: 100%; padding: var(--space-sm); background: var(--bg-input); border: 1px solid var(--border); border-radius: var(--radius-sm); color: var(--text-primary); font-family: monospace; font-size: 0.9rem;"></textarea>
                        <p style="font-size: 0.85rem; color: var(--text-secondary); margin-top: var(--space-xs);">Enter the requirements you list on your mod page</p>
                    </div>

                    <button type="button" id="req-validate-btn" class="primary-button">
                        ‚úÖ Validate Requirements
                    </button>

                    <div id="req-results" style="padding: var(--space-md); background: var(--bg-input); border-radius: var(--radius-sm);">
                        <p style="color: var(--text-secondary);">Validation results will show missing requirements, incorrect names, and suggestions...</p>
                    </div>
                </div>
            </div>

            <!-- Patch Availability -->
            <div style="background: var(--bg-card); border-radius: var(--radius-lg); padding: var(--space-xl); margin-bottom: var(--space-xl);">
                <h3 style="margin-bottom: var(--space-md);">üîß Patch Finder</h3>
                <p style="color: var(--text-secondary); margin-bottom: var(--space-md);">
                    Find existing compatibility patches for your mod. Know what patches users need.
                </p>

                <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--space-md);">
                    <div>
                        <label style="display: block; margin-bottom: var(--space-xs); font-size: 0.9rem; color: var(--text-secondary);">Your Mod:</label>
                        <input type="text" id="patch-your-mod" placeholder="YourMod" style="width: 100%; padding: var(--space-sm); background: var(--bg-input); border: 1px solid var(--border); border-radius: var(--radius-sm); color: var(--text-primary);">
                    </div>
                    <div>
                        <label style="display: block; margin-bottom: var(--space-xs); font-size: 0.9rem; color: var(--text-secondary);">Game:</label>
                        <select id="patch-game" style="width: 100%; padding: var(--space-sm); background: var(--bg-input); border: 1px solid var(--border); border-radius: var(--radius-sm); color: var(--text-primary);">
                            <option value="skyrimse">Skyrim SE</option>
                            <option value="fallout4">Fallout 4</option>
                        </select>
                    </div>
                </div>

                <button type="button" id="patch-search-btn" class="primary-button" style="margin-top: var(--space-md);">
                    üîç Search for Patches
                </button>

                <div id="patch-results" style="margin-top: var(--space-md); padding: var(--space-md); background: var(--bg-input); border-radius: var(--radius-sm);">
                    <p style="color: var(--text-secondary);">Search results will show available patches, their authors, and download links...</p>
                </div>
            </div>

            <!-- User Issue Reporter -->
            <div style="background: var(--bg-card); border-radius: var(--radius-lg); padding: var(--space-xl); margin-bottom: var(--space-xl);">
                <h3 style="margin-bottom: var(--space-md);">üêõ User Issue Tracker</h3>
                <p style="color: var(--text-secondary); margin-bottom: var(--space-md);">
                    See what issues users are reporting with your mod. Aggregate feedback from the community.
                </p>

                <div style="display: grid; gap: var(--space-md);">
                    <div>
                        <label style="display: block; margin-bottom: var(--space-xs); font-size: 0.9rem; color: var(--text-secondary);">Your Mod Name:</label>
                        <input type="text" id="issue-mod" placeholder="YourMod" style="width: 100%; padding: var(--space-sm); background: var(--bg-input); border: 1px solid var(--border); border-radius: var(--radius-sm); color: var(--text-primary);">
                    </div>

                    <button type="button" id="issue-search-btn" class="primary-button">
                        üìä Search User Reports
                    </button>

                    <div id="issue-results" style="padding: var(--space-md); background: var(--bg-input); border-radius: var(--radius-sm); max-height: 400px; overflow-y: auto;">
                        <p style="color: var(--text-secondary);">User-reported issues will appear here, categorized by type (CTD, conflict, bug, etc.)...</p>
                    </div>
                </div>
            </div>

            <!-- Mod Metadata Generator -->
            <div style="background: var(--bg-card); border-radius: var(--radius-lg); padding: var(--space-xl); margin-bottom: var(--space-xl);">
                <h3 style="margin-bottom: var(--space-md);">üìù Mod Metadata Generator</h3>
                <p style="color: var(--text-secondary); margin-bottom: var(--space-md);">
                    Generate LOOT-compatible metadata for your mod. Help users with automatic load order.
                </p>

                <div style="display: grid; gap: var(--space-md);">
                    <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--space-md);">
                        <div>
                            <label style="display: block; margin-bottom: var(--space-xs); font-size: 0.9rem; color: var(--text-secondary);">Mod Name:</label>
                            <input type="text" id="meta-mod-name" placeholder="YourMod.esp" style="width: 100%; padding: var(--space-sm); background: var(--bg-input); border: 1px solid var(--border); border-radius: var(--radius-sm); color: var(--text-primary); font-family: monospace;">
                        </div>
                        <div>
                            <label style="display: block; margin-bottom: var(--space-xs); font-size: 0.9rem; color: var(--text-secondary);">Mod Author:</label>
                            <input type="text" id="meta-author" placeholder="Your Name" style="width: 100%; padding: var(--space-sm); background: var(--bg-input); border: 1px solid var(--border); border-radius: var(--radius-sm); color: var(--text-primary);">
                        </div>
                    </div>

                    <div>
                        <label style="display: block; margin-bottom: var(--space-xs); font-size: 0.9rem; color: var(--text-secondary);">Requirements (comma-separated):</label>
                        <input type="text" id="meta-reqs" placeholder="USSEP, SkyUI, Address Library" style="width: 100%; padding: var(--space-sm); background: var(--bg-input); border: 1px solid var(--border); border-radius: var(--radius-sm); color: var(--text-primary);">
                    </div>

                    <div>
                        <label style="display: block; margin-bottom: var(--space-xs); font-size: 0.9rem; color: var(--text-secondary);">Load After (comma-separated):</label>
                        <input type="text" id="meta-load-after" placeholder="USSEP, SkyUI" style="width: 100%; padding: var(--space-sm); background: var(--bg-input); border: 1px solid var(--border); border-radius: var(--radius-sm); color: var(--text-primary);">
                    </div>

                    <div>
                        <label style="display: block; margin-bottom: var(--space-xs); font-size: 0.9rem; color: var(--text-secondary);">Tags (comma-separated):</label>
                        <input type="text" id="meta-tags" placeholder="Gameplay, Quest, NPC" style="width: 100%; padding: var(--space-sm); background: var(--bg-input); border: 1px solid var(--border); border-radius: var(--radius-sm); color: var(--text-primary);">
                    </div>

                    <button type="button" id="meta-generate-btn" class="primary-button">
                        üìù Generate Metadata
                    </button>

                    <div>
                        <label style="display: block; margin-bottom: var(--space-xs); font-size: 0.9rem; color: var(--text-secondary);">Generated YAML (for LOOT masterlist):</label>
                        <textarea id="meta-output" rows="12" readonly style="width: 100%; padding: var(--space-sm); background: var(--bg-dark); border: 1px solid var(--border); border-radius: var(--radius-sm); color: var(--text-primary); font-family: monospace; font-size: 0.9rem;"></textarea>
                        <button type="button" id="meta-copy-btn" class="secondary-button" style="margin-top: var(--space-sm);">
                            üìã Copy to Clipboard
                        </button>
                    </div>
                </div>
            </div>

            <!-- Mod Author Community & Resources -->
            <div style="background: var(--bg-card); border-radius: var(--radius-lg); padding: var(--space-xl);">
                <h3 style="margin-bottom: var(--space-md);">üí¨ Mod Author Community</h3>
                <p style="color: var(--text-secondary); margin-bottom: var(--space-md);">Connect with fellow mod creators, share resources, and collaborate.</p>

                <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: var(--space-md);">
                    <div style="padding: var(--space-md); background: var(--bg-input); border-radius: var(--radius-sm);">
                        <h4 style="margin-bottom: var(--space-sm);">üìö Resources</h4>
                        <div style="display: flex; flex-wrap: wrap; gap: var(--space-xs);">
                            <a href="https://creationkit.com/" target="_blank" rel="noopener" class="secondary-button" style="font-size: 0.85rem; padding: var(--space-xs) var(--space-sm);">Creation Kit Wiki</a>
                            <a href="https://papyrus.skyrimmods.org/" target="_blank" rel="noopener" class="secondary-button" style="font-size: 0.85rem; padding: var(--space-xs) var(--space-sm);">Papyrus Reference</a>
                            <a href="https://www.youtube.com/results?search_query=skyrim+modding+tutorial" target="_blank" rel="noopener" class="secondary-button" style="font-size: 0.85rem; padding: var(--space-xs) var(--space-sm);">Video Tutorials</a>
                        </div>
                    </div>
                    <div style="padding: var(--space-md); background: var(--bg-input); border-radius: var(--radius-sm);">
                        <h4 style="margin-bottom: var(--space-sm);">üí¨ Communities</h4>
                        <div style="display: flex; flex-wrap: wrap; gap: var(--space-xs);">
                            <a href="https://forums.nexusmods.com/" target="_blank" rel="noopener" class="secondary-button" style="font-size: 0.85rem; padding: var(--space-xs) var(--space-sm);">Nexus Forums</a>
                            <a href="https://discord.gg/skyrimmods" target="_blank" rel="noopener" class="secondary-button" style="font-size: 0.85rem; padding: var(--space-xs) var(--space-sm);">Skyrim Mods Discord</a>
                            <a href="https://www.reddit.com/r/skyrimmods/" target="_blank" rel="noopener" class="secondary-button" style="font-size: 0.85rem; padding: var(--space-xs) var(--space-sm);">r/skyrimmods</a>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</section>

<script>
// Mod Author Tools JavaScript
document.addEventListener('DOMContentLoaded', function() {
    // Selected mods storage for compatibility checker
    const selectedMods = new Set();
    let searchDebounceTimer = null;

    // Tab switching
    document.querySelectorAll('.compat-tab-btn').forEach(btn => {
        btn.addEventListener('click', function() {
            const tabName = this.dataset.tab;

            // Update button styles
            document.querySelectorAll('.compat-tab-btn').forEach(b => {
                b.style.background = 'var(--bg-input)';
                b.style.color = 'var(--text-primary)';
            });
            this.style.background = 'var(--accent-primary)';
            this.style.color = 'white';

            // Show/hide content
            document.querySelectorAll('.compat-tab-content').forEach(c => c.style.display = 'none');
            document.getElementById(`compat-tab-${tabName}`).style.display = 'block';
        });
    });

    // Dynamic mod search with debouncing
    const searchInput = document.getElementById('compat-search-input');
    const searchResults = document.getElementById('compat-search-results');
    const selectedModsContainer = document.getElementById('compat-selected-mods');

    searchInput?.addEventListener('input', function() {
        const query = this.value.trim();

        // Clear previous timer
        if (searchDebounceTimer) {
            clearTimeout(searchDebounceTimer);
        }

        // Need at least 2 characters
        if (query.length < 2) {
            searchResults.style.display = 'none';
            return;
        }

        // Debounce search (wait 300ms after typing stops)
        searchDebounceTimer = setTimeout(async () => {
            const game = document.getElementById('compat-game').value;

            try {
                const response = await fetch(`/api/search/mods?game=${game}&q=${encodeURIComponent(query)}&limit=10`);
                const data = await response.json();

                if (data.mods && data.mods.length > 0) {
                    searchResults.innerHTML = data.mods.map(mod => `
                        <div class="compat-search-item" data-mod-name="${mod.name}" style="padding: var(--space-sm); cursor: pointer; border-bottom: 1px solid var(--border); display: flex; justify-content: space-between; align-items: center;">
                            <div>
                                <div style="font-weight: 600; color: var(--text-primary);">${mod.name}</div>
                                <div style="font-size: 0.85rem; color: var(--text-secondary);">${mod.filename || mod.name}</div>
                            </div>
                            ${selectedMods.has(mod.name) ? '<span style="color: var(--success); font-size: 0.85rem;">‚úì Added</span>' : '<span style="color: var(--accent-primary); font-size: 0.85rem;">+ Add</span>'}
                        </div>
                    `).join('');
                    searchResults.style.display = 'block';

                    // Add click handlers to search results
                    searchResults.querySelectorAll('.compat-search-item').forEach(item => {
                        item.addEventListener('click', function() {
                            const modName = this.dataset.modName;
                            toggleModSelection(modName);
                        });
                    });
                } else {
                    searchResults.innerHTML = '<div style="padding: var(--space-sm); color: var(--text-secondary);">No mods found. Try a different search term.</div>';
                    searchResults.style.display = 'block';
                }
            } catch (e) {
                console.error('Search error:', e);
                searchResults.innerHTML = '<div style="padding: var(--space-sm); color: var(--error);">Search failed. Please try again.</div>';
                searchResults.style.display = 'block';
            }
        }, 300);
    });

    // Toggle mod selection
    function toggleModSelection(modName) {
        if (selectedMods.has(modName)) {
            selectedMods.delete(modName);
        } else {
            selectedMods.add(modName);
        }
        updateSelectedModsDisplay();

        // Hide search results after selection
        searchResults.style.display = 'none';
        searchInput.value = '';
        searchInput.focus();
    }

    // Update selected mods display
    function updateSelectedModsDisplay() {
        if (selectedMods.size === 0) {
            selectedModsContainer.innerHTML = '<span style="color: var(--text-secondary); font-size: 0.9rem; padding: var(--space-xs);">No mods selected yet. Search, paste, import, or select from popular mods...</span>';
        } else {
            selectedModsContainer.innerHTML = Array.from(selectedMods).map(modName => `
                <span style="display: inline-flex; align-items: center; gap: var(--space-xs); padding: var(--space-xs) var(--space-sm); background: rgba(0, 212, 232, 0.15); border: 1px solid var(--accent-primary); border-radius: var(--radius-sm); color: var(--text-primary); font-size: 0.9rem;">
                    ${modName}
                    <button type="button" onclick="toggleModSelection('${modName.replace(/'/g, "\\'")}')" style="background: none; border: none; color: var(--text-secondary); cursor: pointer; padding: 0; margin-left: var(--space-xs); font-size: 1rem; line-height: 1;">&times;</button>
                </span>
            `).join('');
        }
        // Update count
        document.getElementById('compat-count').textContent = selectedMods.size;
    }

    // Hide search results when clicking outside
    document.addEventListener('click', function(e) {
        if (searchInput && !searchInput.contains(e.target) && !searchResults.contains(e.target)) {
            searchResults.style.display = 'none';
        }
    });

    // Paste List - Add mods from textarea
    document.getElementById('compat-add-paste-btn')?.addEventListener('click', function() {
        const pasteInput = document.getElementById('compat-paste-input');
        const text = pasteInput.value.trim();

        if (!text) {
            alert('Please paste a mod list first');
            return;
        }

        // Parse lines, extract mod names
        const lines = text.split('\n')
            .map(line => line.trim())
            .filter(line => line.length > 0 && !line.startsWith('#') && !line.startsWith('*'))
            .map(line => {
                // Handle MO2 format: *modname.esp or modname.esp
                if (line.startsWith('*')) line = line.substring(1);
                return line;
            });

        lines.forEach(modName => selectedMods.add(modName));
        updateSelectedModsDisplay();

        pasteInput.value = '';
        alert(`Added ${lines.length} mod(s) to test list!`);
    });

    // Import File - Add mods from file
    document.getElementById('compat-add-file-btn')?.addEventListener('click', function() {
        const fileInput = document.getElementById('compat-file-input');
        const file = fileInput.files[0];

        if (!file) {
            alert('Please select a file first');
            return;
        }

        const reader = new FileReader();
        reader.onload = function(e) {
            const text = e.target.result;
            const lines = text.split('\n')
                .map(line => line.trim())
                .filter(line => line.length > 0 && !line.startsWith('#') && !line.startsWith('*'))
                .map(line => {
                    if (line.startsWith('*')) line = line.substring(1);
                    return line;
                });

            lines.forEach(modName => selectedMods.add(modName));
            updateSelectedModsDisplay();

            fileInput.value = '';
            alert(`Imported ${lines.length} mod(s) from ${file.name}!`);
        };
        reader.readAsText(file);
    });

    // Community Builds - Load builds for selected game
    const communityBuildGameSelect = document.getElementById('community-build-game');
    const communityBuildsListEl = document.getElementById('community-builds-list');

    communityBuildGameSelect?.addEventListener('change', async function() {
        const game = this.value;
        if (!game) {
            communityBuildsListEl.innerHTML = '<p style="color: var(--text-secondary); text-align: center; padding: var(--space-md);">Select a game to browse community-submitted builds.</p>';
            return;
        }

        communityBuildsListEl.innerHTML = '<p style="color: var(--text-secondary); text-align: center; padding: var(--space-xl);">Loading community builds...</p>';

        try {
            const response = await fetch(`/api/community-builds?game=${game}&limit=20`);
            const data = await response.json();

            if (data.builds && data.builds.length > 0) {
                communityBuildsListEl.innerHTML = data.builds.map(build => `
                    <div style="padding: var(--space-md); background: var(--bg-dark); border-radius: var(--radius-sm); margin-bottom: var(--space-md); border: 1px solid var(--border);">
                        <div style="display: flex; justify-content: space-between; align-items: flex-start; margin-bottom: var(--space-sm);">
                            <h4 style="margin: 0; color: var(--text-primary);">${build.name}</h4>
                            <div style="display: flex; gap: var(--space-xs); align-items: center;">
                                <span style="font-size: 0.85rem; color: var(--text-secondary);">üëç ${build.upvotes || 0}</span>
                                <span style="font-size: 0.85rem; color: var(--text-secondary);">üëé ${build.downvotes || 0}</span>
                            </div>
                        </div>
                        <p style="font-size: 0.9rem; color: var(--text-secondary); margin-bottom: var(--space-sm);">${build.description}</p>
                        <div style="display: flex; flex-wrap: wrap; gap: var(--space-xs); margin-bottom: var(--space-sm);">
                            <span style="font-size: 0.75rem; padding: var(--space-xs) var(--space-sm); background: var(--accent-primary); color: white; border-radius: 9999px;">${build.mod_count || '?'} mods</span>
                            <span style="font-size: 0.75rem; padding: var(--space-xs) var(--space-sm); background: var(--bg-input); color: var(--text-secondary); border-radius: 9999px;">${build.performance_tier || 'mid'}</span>
                            ${(build.playstyle_tags || []).slice(0, 3).map(tag =>
                                `<span style="font-size: 0.75rem; padding: var(--space-xs) var(--space-sm); background: var(--bg-card); color: var(--text-secondary); border-radius: 9999px;">${tag.replace(/_/g, ' ')}</span>`
                            ).join('')}
                            ${build.is_seed ? '<span style="font-size: 0.75rem; padding: var(--space-xs) var(--space-sm); background: rgba(245, 158, 11, 0.2); color: #f59e0b; border-radius: 9999px;" title="Seeded from popular free modlist">üå± Seed</span>' : ''}
                        </div>
                        <div style="display: flex; gap: var(--space-xs); flex-wrap: wrap;">
                            ${build.source_url ? `<a href="${build.source_url}" target="_blank" rel="noopener" style="font-size: 0.85rem; color: var(--accent-primary); text-decoration: none;">üìÑ Source</a>` : ''}
                            ${build.wiki_url ? `<a href="${build.wiki_url}" target="_blank" rel="noopener" style="font-size: 0.85rem; color: var(--accent-primary); text-decoration: none;">üìñ Wiki</a>` : ''}
                            <button class="load-community-build" data-build-id="${build.id}" data-mod-count="${build.mod_count || 0}" style="font-size: 0.85rem; padding: var(--space-xs) var(--space-sm); background: var(--accent-secondary); color: white; border: none; border-radius: var(--radius-sm); cursor: pointer; margin-left: auto;">‚ûï Load Build</button>
                        </div>
                        ${build.seed_note ? `<p style="font-size: 0.75rem; color: var(--text-muted); margin-top: var(--space-xs);">${build.seed_note}</p>` : ''}
                    </div>
                `).join('');

                // Add event listeners to Load buttons
                document.querySelectorAll('.load-community-build').forEach(btn => {
                    btn.addEventListener('click', function() {
                        const buildName = this.closest('[data-build-id]').querySelector('h4').textContent;
                        const modCount = parseInt(this.dataset.modCount);
                        alert(`Load build "${buildName}" with ~${modCount} mods? This will replace your current mod list.`);
                        // TODO: Implement actual load functionality
                    });
                });
            } else {
                communityBuildsListEl.innerHTML = '<p style="color: var(--text-secondary); text-align: center; padding: var(--space-xl);">No community builds yet for this game. Be the first to submit one!</p>';
            }
        } catch (e) {
            communityBuildsListEl.innerHTML = `<p style="color: var(--error); text-align: center; padding: var(--space-xl);">Error loading builds: ${e.message}</p>`;
        }
    });

    // Popular Mods - Add selected popular mods (REMOVED - replaced with Community Builds)

    // Clear All button
    document.getElementById('compat-clear-all-btn')?.addEventListener('click', function() {
        if (selectedMods.size === 0) return;
        if (confirm('Clear all selected mods?')) {
            selectedMods.clear();
            updateSelectedModsDisplay();
        }
    });

    // Export List button
    document.getElementById('compat-export-btn')?.addEventListener('click', function() {
        if (selectedMods.size === 0) {
            alert('No mods selected to export');
            return;
        }

        const modList = Array.from(selectedMods).join('\n');
        navigator.clipboard.writeText(modList).then(() => {
            alert(`Copied ${selectedMods.size} mod(s) to clipboard!`);
        }).catch(err => {
            // Fallback for older browsers
            const textarea = document.createElement('textarea');
            textarea.value = modList;
            document.body.appendChild(textarea);
            textarea.select();
            document.execCommand('copy');
            document.body.removeChild(textarea);
            alert(`Copied ${selectedMods.size} mod(s) to clipboard!`);
        });
    });

    // Papyrus Script Analysis
    document.getElementById('papyrus-analyze-btn')?.addEventListener('click', async function() {
        const fileInput = document.getElementById('papyrus-file');
        const resultsEl = document.getElementById('papyrus-results');

        if (!fileInput.files || fileInput.files.length === 0) {
            resultsEl.innerHTML = '<p style="color: var(--error);">Please select a .psc file</p>';
            return;
        }

        const file = fileInput.files[0];
        const formData = new FormData();
        formData.append('script', file);

        resultsEl.innerHTML = '<p style="color: var(--text-secondary); text-align: center;">Analyzing script...</p>';

        try {
            const response = await fetch('/api/analyze/papyrus', {
                method: 'POST',
                body: formData
            });
            const data = await response.json();

            if (data.issues && data.issues.length > 0) {
                resultsEl.innerHTML = '<h4 style="margin-bottom: var(--space-sm);">Analysis Results:</h4>' +
                    data.issues.map(issue => `
                        <div style="padding: var(--space-sm); background: var(--bg-dark); border-left: 3px solid var(--${issue.severity === 'error' ? 'error' : issue.severity === 'warning' ? 'warning' : 'info'}); border-radius: var(--radius-sm); margin-bottom: var(--space-sm);">
                            <div style="font-weight: 600; color: var(--${issue.severity === 'error' ? 'error' : issue.severity === 'warning' ? 'warning' : 'info'});">${issue.severity.toUpperCase()}: ${issue.rule}</div>
                            <div style="font-size: 0.9rem; margin-top: var(--space-xs);">${issue.message}</div>
                            <div style="font-size: 0.85rem; color: var(--text-secondary); margin-top: var(--space-xs);">Line ${issue.line}: <code>${issue.code}</code></div>
                        </div>
                    `).join('');
            } else {
                resultsEl.innerHTML = '<p style="color: var(--success); text-align: center; padding: var(--space-xl);">‚úÖ No issues found! Your script looks clean.</p>';
            }
        } catch (e) {
            resultsEl.innerHTML = `<p style="color: var(--error); text-align: center; padding: var(--space-xl);">Error: ${e.message}</p>`;
        }
    });

    // Compatibility Checker
    document.getElementById('compat-check-btn')?.addEventListener('click', async function() {
        const yourMod = document.getElementById('compat-your-mod').value;
        const game = document.getElementById('compat-game').value;
        const resultsEl = document.getElementById('compat-results');

        if (!yourMod) {
            resultsEl.innerHTML = '<p style="color: var(--error);">Please enter your mod name</p>';
            return;
        }

        // Get selected mods from the Set
        const testMods = Array.from(selectedMods);

        if (testMods.length === 0) {
            resultsEl.innerHTML = '<p style="color: var(--error);">Search and select at least one mod to test against</p>';
            return;
        }

        resultsEl.innerHTML = '<p style="color: var(--text-secondary); text-align: center;">Testing compatibility against ' + testMods.length + ' mod(s)...</p>';

        // Build test mod list
        const modList = [yourMod, ...testMods].join('\n');

        try {
            const response = await fetch('/api/analyze', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ mod_list: modList, game: game })
            });
            const data = await response.json();

            if (data.conflicts && data.conflicts.length > 0) {
                const yourModConflicts = data.conflicts.filter(c =>
                    c.affected_mod?.toLowerCase().includes(yourMod.toLowerCase())
                );

                if (yourModConflicts.length > 0) {
                    resultsEl.innerHTML = `<h4 style="margin-bottom: var(--space-sm); color: var(--error);">‚ö†Ô∏è Found ${yourModConflicts.length} conflicts with your mod:</h4>` +
                        yourModConflicts.map(c => `
                            <div style="padding: var(--space-sm); background: var(--bg-input); border-left: 3px solid var(--${c.severity === 'error' ? 'error' : 'warning'}); border-radius: var(--radius-sm); margin-bottom: var(--space-sm);">
                                <div style="font-weight: 600; color: var(--${c.severity === 'error' ? 'error' : 'warning'});">${c.type.toUpperCase()}</div>
                                <div style="font-size: 0.9rem;">${c.message}</div>
                                ${c.suggested_action ? `<div style="font-size: 0.85rem; color: var(--text-secondary); margin-top: var(--space-xs);">üí° ${c.suggested_action}</div>` : ''}
                            </div>
                        `).join('');
                } else {
                    resultsEl.innerHTML = '<p style="color: var(--success); text-align: center; padding: var(--space-xl);">‚úÖ No conflicts detected! Your mod appears compatible with selected mods.</p>';
                }
            } else {
                resultsEl.innerHTML = '<p style="color: var(--success); text-align: center; padding: var(--space-xl);">‚úÖ No conflicts detected! Your mod appears compatible with selected mods.</p>';
            }
        } catch (e) {
            resultsEl.innerHTML = `<p style="color: var(--error); text-align: center; padding: var(--space-xl);">Error: ${e.message}</p>`;
        }
    });

    // Load Order Validator
    document.getElementById('loadorder-validate-btn')?.addEventListener('click', async function() {
        const mod = document.getElementById('loadorder-mod').value;
        const modList = document.getElementById('loadorder-list').value;
        const resultsEl = document.getElementById('loadorder-results');

        if (!mod || !modList) {
            resultsEl.innerHTML = '<p style="color: var(--error);">Please enter your mod name and load order</p>';
            return;
        }

        resultsEl.innerHTML = '<p style="color: var(--text-secondary); text-align: center;">Analyzing load order...</p>';

        try {
            const response = await fetch('/api/analyze', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ mod_list: modList, game: 'skyrimse' })
            });
            const data = await response.json();

            if (data.conflicts && data.conflicts.length > 0) {
                const loadOrderIssues = data.conflicts.filter(c => c.type === 'load_order_violation');

                if (loadOrderIssues.length > 0) {
                    resultsEl.innerHTML = `<h4 style="margin-bottom: var(--space-sm); color: var(--warning);">‚ö†Ô∏è Found ${loadOrderIssues.length} load order issues:</h4>` +
                        loadOrderIssues.map(c => `
                            <div style="padding: var(--space-sm); background: var(--bg-input); border-left: 3px solid var(--warning); border-radius: var(--radius-sm); margin-bottom: var(--space-sm);">
                                <div style="font-weight: 600;">${c.message}</div>
                                ${c.suggested_action ? `<div style="font-size: 0.85rem; color: var(--accent-primary); margin-top: var(--space-xs);">‚Üí ${c.suggested_action}</div>` : ''}
                            </div>
                        `).join('');
                } else {
                    resultsEl.innerHTML = '<p style="color: var(--success); text-align: center; padding: var(--space-xl);">‚úÖ Load order looks good! No violations detected.</p>';
                }
            } else {
                resultsEl.innerHTML = '<p style="color: var(--success); text-align: center; padding: var(--space-xl);">‚úÖ Load order looks good! No violations detected.</p>';
            }
        } catch (e) {
            resultsEl.innerHTML = `<p style="color: var(--error); text-align: center; padding: var(--space-xl);">Error: ${e.message}</p>`;
        }
    });

    // Requirements Validator
    document.getElementById('req-validate-btn')?.addEventListener('click', async function() {
        const modName = document.getElementById('req-your-mod').value;
        const requirements = document.getElementById('req-list').value;
        const resultsEl = document.getElementById('req-results');

        if (!modName || !requirements) {
            resultsEl.innerHTML = '<p style="color: var(--error);">Please enter your mod name and requirements</p>';
            return;
        }

        resultsEl.innerHTML = '<p style="color: var(--text-secondary); text-align: center;">Validating requirements...</p>';

        try {
            const response = await fetch('/api/validate/requirements', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({ mod_name: modName, requirements: requirements.split('\n').filter(r => r.trim()) })
            });
            const data = await response.json();

            if (data.validation && data.validation.length > 0) {
                resultsEl.innerHTML = '<h4 style="margin-bottom: var(--space-sm);">Validation Results:</h4>' +
                    data.validation.map(v => `
                        <div style="padding: var(--space-sm); background: var(--bg-dark); border-left: 3px solid var(--${v.status === 'error' ? 'error' : v.status === 'warning' ? 'warning' : 'success'}); border-radius: var(--radius-sm); margin-bottom: var(--space-sm);">
                            <div style="font-weight: 600; color: var(--${v.status === 'error' ? 'error' : v.status === 'warning' ? 'warning' : 'success'});">${v.requirement}</div>
                            <div style="font-size: 0.9rem; margin-top: var(--space-xs);">${v.message}</div>
                        </div>
                    `).join('');
            } else {
                resultsEl.innerHTML = '<p style="color: var(--success); text-align: center; padding: var(--space-xl);">‚úÖ All requirements validated successfully!</p>';
            }
        } catch (e) {
            resultsEl.innerHTML = `<p style="color: var(--error); text-align: center; padding: var(--space-xl);">Error: ${e.message}</p>`;
        }
    });

    // Patch Finder
    document.getElementById('patch-search-btn')?.addEventListener('click', async function() {
        const modName = document.getElementById('patch-your-mod').value;
        const game = document.getElementById('patch-game').value;
        const resultsEl = document.getElementById('patch-results');

        if (!modName) {
            resultsEl.innerHTML = '<p style="color: var(--error);">Please enter your mod name</p>';
            return;
        }

        resultsEl.innerHTML = '<p style="color: var(--text-secondary); text-align: center;">Searching for patches...</p>';

        try {
            const response = await fetch(`/api/patches?mod=${encodeURIComponent(modName)}&game=${game}`);
            const data = await response.json();

            if (data.patches && data.patches.length > 0) {
                resultsEl.innerHTML = '<h4 style="margin-bottom: var(--space-sm);">Available Patches:</h4>' +
                    data.patches.map(p => `
                        <div style="padding: var(--space-sm); background: var(--bg-dark); border-radius: var(--radius-sm); margin-bottom: var(--space-sm);">
                            <div style="font-weight: 600;">${p.name}</div>
                            <div style="font-size: 0.9rem; color: var(--text-secondary); margin-top: var(--space-xs);">${p.description}</div>
                            <div style="margin-top: var(--space-xs);">
                                <a href="${p.url}" target="_blank" rel="noopener" class="secondary-button" style="font-size: 0.85rem; padding: var(--space-xs) var(--space-sm);">Download</a>
                                <span style="font-size: 0.85rem; color: var(--text-secondary); margin-left: var(--space-sm);">by ${p.author}</span>
                            </div>
                        </div>
                    `).join('');
            } else {
                resultsEl.innerHTML = '<p style="color: var(--text-secondary); text-align: center; padding: var(--space-xl);">No patches found. Your mod might not need any, or patches haven\'t been created yet.</p>';
            }
        } catch (e) {
            resultsEl.innerHTML = `<p style="color: var(--error); text-align: center; padding: var(--space-xl);">Error: ${e.message}</p>`;
        }
    });

    // User Issue Tracker
    document.getElementById('issue-search-btn')?.addEventListener('click', async function() {
        const modName = document.getElementById('issue-mod').value;
        const resultsEl = document.getElementById('issue-results');

        if (!modName) {
            resultsEl.innerHTML = '<p style="color: var(--error);">Please enter your mod name</p>';
            return;
        }

        resultsEl.innerHTML = '<p style="color: var(--text-secondary); text-align: center;">Searching user reports...</p>';

        try {
            const response = await fetch(`/api/issues?mod=${encodeURIComponent(modName)}`);
            const data = await response.json();

            if (data.issues && data.issues.length > 0) {
                resultsEl.innerHTML = '<h4 style="margin-bottom: var(--space-sm);">User Reports:</h4>' +
                    data.issues.map(issue => `
                        <div style="padding: var(--space-sm); background: var(--bg-dark); border-radius: var(--radius-sm); margin-bottom: var(--space-sm);">
                            <div style="display: flex; justify-content: space-between; align-items: center;">
                                <div style="font-weight: 600;">${issue.type}</div>
                                <div style="font-size: 0.85rem; color: var(--text-secondary);">${issue.date}</div>
                            </div>
                            <div style="font-size: 0.9rem; margin-top: var(--space-xs);">${issue.description}</div>
                            ${issue.status ? `<div style="font-size: 0.85rem; color: var(--text-secondary); margin-top: var(--space-xs);">Status: ${issue.status}</div>` : ''}
                        </div>
                    `).join('');
            } else {
                resultsEl.innerHTML = '<p style="color: var(--success); text-align: center; padding: var(--space-xl);">‚úÖ No user reports found. Your mod appears to be working well!</p>';
            }
        } catch (e) {
            resultsEl.innerHTML = `<p style="color: var(--error); text-align: center; padding: var(--space-xl);">Error: ${e.message}</p>`;
        }
    });

    // Mod Metadata Generator
    document.getElementById('meta-generate-btn')?.addEventListener('click', function() {
        const modName = document.getElementById('meta-mod-name').value;
        const author = document.getElementById('meta-author').value;
        const reqs = document.getElementById('meta-reqs').value;
        const loadAfter = document.getElementById('meta-load-after').value;
        const tags = document.getElementById('meta-tags').value;
        const outputEl = document.getElementById('meta-output');

        if (!modName) {
            alert('Please enter your mod name');
            return;
        }

        // Generate YAML
        let yaml = `- name: ${modName}\n`;
        if (author) yaml += `  author: ${author}\n`;

        if (reqs) {
            yaml += `  requirements:\n`;
            reqs.split(',').forEach(req => {
                yaml += `    - ${req.trim()}\n`;
            });
        }

        if (loadAfter) {
            yaml += `  loadAfter:\n`;
            loadAfter.split(',').forEach(mod => {
                yaml += `    - ${mod.trim()}\n`;
            });
        }

        if (tags) {
            yaml += `  tags:\n`;
            tags.split(',').forEach(tag => {
                yaml += `    - ${tag.trim()}\n`;
            });
        }

        outputEl.value = yaml.trim();
    });

    // Copy metadata to clipboard
    document.getElementById('meta-copy-btn')?.addEventListener('click', function() {
        const outputEl = document.getElementById('meta-output');
        outputEl.select();
        document.execCommand('copy');

        const originalText = this.textContent;
        this.textContent = '‚úÖ Copied!';
        setTimeout(() => {
            this.textContent = originalText;
        }, 2000);
    });
});
</script>
