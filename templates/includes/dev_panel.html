<!-- MOD AUTHOR TOOLS - No bullshit, just utility -->
<section class="tab-panel dev-panel" id="panel-dev" role="tabpanel" aria-hidden="true">
    <div class="dev-content" style="padding: var(--space-xl); max-width: 1200px; margin: 0 auto;">
        
        <div style="margin-bottom: var(--space-xl);">
            <h2 style="font-size: 1.75rem; margin-bottom: var(--space-sm);">üõ†Ô∏è Mod Author Tools</h2>
            <p style="color: var(--text-secondary);">
                You've been modding for years. You don't need tutorials. You need tools that work.
            </p>
        </div>

        <!-- ======================================================================= -->
        <!-- CONFLICT CHECKER - The main reason you're here -->
        <!-- ======================================================================= -->
        <div style="background: var(--bg-card); border-radius: var(--radius-lg); padding: var(--space-xl); margin-bottom: var(--space-lg); border-left: 4px solid var(--accent-primary);">
            <h3 style="margin-bottom: var(--space-md); font-size: 1.25rem;">‚öîÔ∏è Conflict Checker</h3>
            <p style="color: var(--text-secondary); margin-bottom: var(--space-lg);">
                Test your mod against the LOOT database. Find conflicts before your users do.
            </p>

            <div style="display: grid; gap: var(--space-md);">
                <div style="display: grid; grid-template-columns: 1fr auto; gap: var(--space-sm);">
                    <div>
                        <label style="display: block; margin-bottom: var(--space-xs); font-size: 0.875rem; color: var(--text-secondary);">Your Mod (ESP/ESM/ESL):</label>
                        <input type="text" id="conflict-your-mod" placeholder="YourMod.esp" style="width: 100%; padding: var(--space-sm); background: var(--bg-input); border: 1px solid var(--border); border-radius: var(--radius-sm); color: var(--text-primary); font-family: monospace; font-size: 0.9rem;">
                    </div>
                    <div style="padding-top: var(--space-lg);">
                        <select id="conflict-game" style="padding: var(--space-sm); background: var(--bg-input); border: 1px solid var(--border); border-radius: var(--radius-sm); color: var(--text-primary); font-size: 0.9rem;">
                            <option value="skyrimse">Skyrim SE</option>
                            <option value="skyrim">Skyrim LE</option>
                            <option value="skyrimvr">Skyrim VR</option>
                            <option value="fallout4">Fallout 4</option>
                            <option value="falloutnv">New Vegas</option>
                            <option value="oblivion">Oblivion</option>
                        </select>
                    </div>
                </div>

                <div>
                    <label style="display: block; margin-bottom: var(--space-xs); font-size: 0.875rem; color: var(--text-secondary);">Test Against (paste mod list, one per line):</label>
                    <textarea id="conflict-modlist" rows="6" placeholder="USSEP.esp&#10;SkyUI.esp&#10;Ordinator - Perks of Skyrim.esp&#10;Immersive Citizens - AI Overhaul.esp" style="width: 100%; padding: var(--space-sm); background: var(--bg-input); border: 1px solid var(--border); border-radius: var(--radius-sm); color: var(--text-primary); font-family: monospace; font-size: 0.875rem; resize: vertical;"></textarea>
                    <div style="display: flex; gap: var(--space-xs); margin-top: var(--space-xs);">
                        <button type="button" id="conflict-load-plugins-btn" style="font-size: 0.8rem; padding: var(--space-xs) var(--space-sm); background: var(--bg-input); border: 1px solid var(--border); border-radius: var(--radius-sm); color: var(--text-secondary); cursor: pointer;">üìÅ Load plugins.txt</button>
                        <input type="file" id="conflict-file-input" accept=".txt,.esp,.esm,.esl" style="display: none;">
                    </div>
                </div>

                <button type="button" id="conflict-check-btn" class="primary-button" style="width: 100%;">
                    üîç Check for Conflicts
                </button>

                <div id="conflict-results" style="padding: var(--space-md); background: var(--bg-dark); border-radius: var(--radius-sm); border: 1px solid var(--border);">
                    <p style="color: var(--text-secondary); font-size: 0.9rem;">Results will show direct conflicts, load order issues, and known incompatibilities from the LOOT database and community reports.</p>
                </div>
            </div>
        </div>

        <!-- ======================================================================= -->
        <!-- LOAD ORDER VALIDATOR - LOOT rules without running LOOT -->
        <!-- ======================================================================= -->
        <div style="background: var(--bg-card); border-radius: var(--radius-lg); padding: var(--space-xl); margin-bottom: var(--space-lg); border-left: 4px solid var(--success);">
            <h3 style="margin-bottom: var(--space-md); font-size: 1.25rem;">üìã Load Order Validator</h3>
            <p style="color: var(--text-secondary); margin-bottom: var(--space-lg);">
                Where should your mod load? Get LOOT-based placement recommendations.
            </p>

            <div style="display: grid; gap: var(--space-md);">
                <div>
                    <label style="display: block; margin-bottom: var(--space-xs); font-size: 0.875rem; color: var(--text-secondary);">Your Mod:</label>
                    <input type="text" id="lo-your-mod" placeholder="YourMod.esp" style="width: 100%; padding: var(--space-sm); background: var(--bg-input); border: 1px solid var(--border); border-radius: var(--radius-sm); color: var(--text-primary); font-family: monospace; font-size: 0.9rem;">
                </div>

                <div>
                    <label style="display: block; margin-bottom: var(--space-xs); font-size: 0.875rem; color: var(--text-secondary);">Your Load Order (top to bottom):</label>
                    <textarea id="lo-list" rows="8" placeholder="Skyrim.esm&#10;Update.esm&#10;USSEP.esp&#10;YourMod.esp&#10;Ordinator - Perks of Skyrim.esp" style="width: 100%; padding: var(--space-sm); background: var(--bg-input); border: 1px solid var(--border); border-radius: var(--radius-sm); color: var(--text-primary); font-family: monospace; font-size: 0.875rem; resize: vertical;"></textarea>
                </div>

                <button type="button" id="lo-validate-btn" class="primary-button" style="width: 100%;">
                    üìä Validate Load Order
                </button>

                <div id="lo-results" style="padding: var(--space-md); background: var(--bg-dark); border-radius: var(--radius-sm); border: 1px solid var(--border);">
                    <p style="color: var(--text-secondary); font-size: 0.9rem;">Shows load order violations, suggested moves, and master requirements.</p>
                </div>
            </div>
        </div>

        <!-- ======================================================================= -->
        <!-- REQUIREMENTS CHECKER - Don't let users miss dependencies -->
        <!-- ======================================================================= -->
        <div style="background: var(--bg-card); border-radius: var(--radius-lg); padding: var(--space-xl); margin-bottom: var(--space-lg); border-left: 4px solid var(--warning);">
            <h3 style="margin-bottom: var(--space-md); font-size: 1.25rem;">‚úÖ Requirements Validator</h3>
            <p style="color: var(--text-secondary); margin-bottom: var(--space-lg);">
                Validate your mod's requirements. Catch typos and missing masters before release.
            </p>

            <div style="display: grid; gap: var(--space-md);">
                <div>
                    <label style="display: block; margin-bottom: var(--space-xs); font-size: 0.875rem; color: var(--text-secondary);">Your Mod Name:</label>
                    <input type="text" id="req-your-mod" placeholder="YourMod" style="width: 100%; padding: var(--space-sm); background: var(--bg-input); border: 1px solid var(--border); border-radius: var(--radius-sm); color: var(--text-primary); font-size: 0.9rem;">
                </div>

                <div>
                    <label style="display: block; margin-bottom: var(--space-xs); font-size: 0.875rem; color: var(--text-secondary);">Your Listed Requirements (one per line):</label>
                    <textarea id="req-list" rows="6" placeholder="USSEP&#10;SkyUI&#10;Address Library for SKSE Plugins&#10;Papyrus Util" style="width: 100%; padding: var(--space-sm); background: var(--bg-input); border: 1px solid var(--border); border-radius: var(--radius-sm); color: var(--text-primary); font-family: monospace; font-size: 0.875rem; resize: vertical;"></textarea>
                </div>

                <button type="button" id="req-validate-btn" class="primary-button" style="width: 100%;">
                    ‚úÖ Validate Requirements
                </button>

                <div id="req-results" style="padding: var(--space-md); background: var(--bg-dark); border-radius: var(--radius-sm); border: 1px solid var(--border);">
                    <p style="color: var(--text-secondary); font-size: 0.9rem;">Checks for correct mod names, missing masters, and common dependency issues.</p>
                </div>
            </div>
        </div>

        <!-- ======================================================================= -->
        <!-- LOOT METADATA GENERATOR - Copy-paste for masterlist submissions -->
        <!-- ======================================================================= -->
        <div style="background: var(--bg-card); border-radius: var(--radius-lg); padding: var(--space-xl); margin-bottom: var(--space-lg); border-left: 4px solid #8b5cf6;">
            <h3 style="margin-bottom: var(--space-md); font-size: 1.25rem;">üìù LOOT Metadata Generator</h3>
            <p style="color: var(--text-secondary); margin-bottom: var(--space-lg);">
                Generate YAML for LOOT masterlist submissions. Save time on formatting.
            </p>

            <div style="display: grid; grid-template-columns: 1fr 1fr; gap: var(--space-md); margin-bottom: var(--space-md);">
                <div>
                    <label style="display: block; margin-bottom: var(--space-xs); font-size: 0.875rem; color: var(--text-secondary);">Mod File:</label>
                    <input type="text" id="meta-mod" placeholder="YourMod.esp" style="width: 100%; padding: var(--space-sm); background: var(--bg-input); border: 1px solid var(--border); border-radius: var(--radius-sm); color: var(--text-primary); font-family: monospace; font-size: 0.9rem;">
                </div>
                <div>
                    <label style="display: block; margin-bottom: var(--space-xs); font-size: 0.875rem; color: var(--text-secondary);">Author:</label>
                    <input type="text" id="meta-author" placeholder="YourName" style="width: 100%; padding: var(--space-sm); background: var(--bg-input); border: 1px solid var(--border); border-radius: var(--radius-sm); color: var(--text-primary); font-size: 0.9rem;">
                </div>
            </div>

            <div style="display: grid; gap: var(--space-md); margin-bottom: var(--space-md);">
                <div>
                    <label style="display: block; margin-bottom: var(--space-xs); font-size: 0.875rem; color: var(--text-secondary);">Requirements (comma-separated):</label>
                    <input type="text" id="meta-reqs" placeholder="USSEP, SkyUI, Address Library" style="width: 100%; padding: var(--space-sm); background: var(--bg-input); border: 1px solid var(--border); border-radius: var(--radius-sm); color: var(--text-primary); font-size: 0.9rem;">
                </div>
                <div>
                    <label style="display: block; margin-bottom: var(--space-xs); font-size: 0.875rem; color: var(--text-secondary);">Load After (comma-separated):</label>
                    <input type="text" id="meta-loadafter" placeholder="USSEP, SkyUI" style="width: 100%; padding: var(--space-sm); background: var(--bg-input); border: 1px solid var(--border); border-radius: var(--radius-sm); color: var(--text-primary); font-size: 0.9rem;">
                </div>
                <div>
                    <label style="display: block; margin-bottom: var(--space-xs); font-size: 0.875rem; color: var(--text-secondary);">Tags (comma-separated):</label>
                    <input type="text" id="meta-tags" placeholder="Gameplay, Quest, NPC" style="width: 100%; padding: var(--space-sm); background: var(--bg-input); border: 1px solid var(--border); border-radius: var(--radius-sm); color: var(--text-primary); font-size: 0.9rem;">
                </div>
            </div>

            <button type="button" id="meta-generate-btn" class="primary-button" style="width: 100%; margin-bottom: var(--space-md);">
                üìù Generate YAML
            </button>

            <div>
                <label style="display: block; margin-bottom: var(--space-xs); font-size: 0.875rem; color: var(--text-secondary);">Generated YAML (copy for LOOT masterlist):</label>
                <textarea id="meta-output" rows="15" readonly style="width: 100%; padding: var(--space-sm); background: var(--bg-dark); border: 1px solid var(--border); border-radius: var(--radius-sm); color: var(--text-primary); font-family: monospace; font-size: 0.85rem; resize: vertical;"></textarea>
                <button type="button" id="meta-copy-btn" class="secondary-button" style="margin-top: var(--space-sm);">
                    üìã Copy to Clipboard
                </button>
            </div>
        </div>

        <!-- ======================================================================= -->
        <!-- PATCH FINDER - Find existing compatibility patches -->
        <!-- ======================================================================= -->
        <div style="background: var(--bg-card); border-radius: var(--radius-lg); padding: var(--space-xl); margin-bottom: var(--space-lg); border-left: 4px solid #ec4899;">
            <h3 style="margin-bottom: var(--space-md); font-size: 1.25rem;">üîß Patch Finder</h3>
            <p style="color: var(--text-secondary); margin-bottom: var(--space-lg);">
                Search for existing patches for your mod. Know what your users need.
            </p>

            <div style="display: grid; gap: var(--space-md);">
                <div style="display: grid; grid-template-columns: 1fr auto; gap: var(--space-sm);">
                    <div>
                        <label style="display: block; margin-bottom: var(--space-xs); font-size: 0.875rem; color: var(--text-secondary);">Your Mod:</label>
                        <input type="text" id="patch-your-mod" placeholder="YourMod" style="width: 100%; padding: var(--space-sm); background: var(--bg-input); border: 1px solid var(--border); border-radius: var(--radius-sm); color: var(--text-primary); font-size: 0.9rem;">
                    </div>
                    <div style="padding-top: var(--space-lg);">
                        <select id="patch-game" style="padding: var(--space-sm); background: var(--bg-input); border: 1px solid var(--border); border-radius: var(--radius-sm); color: var(--text-primary); font-size: 0.9rem;">
                            <option value="skyrimse">Skyrim SE</option>
                            <option value="fallout4">Fallout 4</option>
                        </select>
                    </div>
                </div>

                <button type="button" id="patch-search-btn" class="primary-button" style="width: 100%;">
                    üîç Search for Patches
                </button>

                <div id="patch-results" style="padding: var(--space-md); background: var(--bg-dark); border-radius: var(--radius-sm); border: 1px solid var(--border);">
                    <p style="color: var(--text-secondary); font-size: 0.9rem;">Searches Nexus, GitHub, and community databases for patches involving your mod.</p>
                </div>
            </div>
        </div>

        <!-- ======================================================================= -->
        <!-- GETTING INTO MOD AUTHORSHIP - For those who want to CREATE mods -->
        <!-- ======================================================================= -->
        <div style="background: var(--bg-card); border-radius: var(--radius-lg); padding: var(--space-xl); margin-bottom: var(--space-lg); border-left: 4px solid #10b981;">
            <h3 style="margin-bottom: var(--space-md); font-size: 1.25rem;">üìñ Getting Into Mod Authorship</h3>
            <p style="color: var(--text-secondary); margin-bottom: var(--space-lg);">
                Want to make mods, not just use them? This is the path. No fluff, just what works.
            </p>

            <div style="display: grid; gap: var(--space-lg);">
                <!-- Step 1 -->
                <div>
                    <h4 style="margin-bottom: var(--space-sm); font-size: 1rem; color: var(--text-primary);">1. Pick Your Creation Tool</h4>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: var(--space-sm);">
                        <div style="padding: var(--space-sm); background: var(--bg-input); border-radius: var(--radius-sm);">
                            <div style="font-weight: 600; margin-bottom: var(--space-xs);">üõ†Ô∏è Creation Kit (Skyrim/Oblivion)</div>
                            <div style="font-size: 0.85rem; color: var(--text-secondary);">Official Bethesda editor. Quests, NPCs, items, worldspaces. Steep learning curve, unlimited potential.</div>
                            <a href="https://.creationkit.com/" target="_blank" rel="noopener" style="font-size: 0.85rem; color: var(--accent-primary); display: inline-block; margin-top: var(--space-xs);">Download & Tutorial ‚Üí</a>
                        </div>
                        <div style="padding: var(--space-sm); background: var(--bg-input); border-radius: var(--radius-sm);">
                            <div style="font-weight: 600; margin-bottom: var(--space-xs);">üîß xEdit (All Bethesda Games)</div>
                            <div style="font-size: 0.85rem; color: var(--text-secondary);">Essential for editing existing mods, making patches, cleaning masters. Every author needs this.</div>
                            <a href="https://tes5edit.github.io/" target="_blank" rel="noopener" style="font-size: 0.85rem; color: var(--accent-primary); display: inline-block; margin-top: var(--space-xs);">Download ‚Üí</a>
                        </div>
                        <div style="padding: var(--space-sm); background: var(--bg-input); border-radius: var(--radius-sm);">
                            <div style="font-weight: 600; margin-bottom: var(--space-xs);">üìù NifSkope (3D Models)</div>
                            <div style="font-size: 0.85rem; color: var(--text-secondary);">Edit meshes, armor, weapons. Required for custom model work.</div>
                            <a href="https://github.com/niftools/nifskope" target="_blank" rel="noopener" style="font-size: 0.85rem; color: var(--accent-primary); display: inline-block; margin-top: var(--space-xs);">Download ‚Üí</a>
                        </div>
                        <div style="padding: var(--space-sm); background: var(--bg-input); border-radius: var(--radius-sm);">
                            <div style="font-weight: 600; margin-bottom: var(--space-xs);">üé® Outfit Studio (Clothing/Armor)</div>
                            <div style="font-size: 0.85rem; color: var(--text-secondary);">BodySlide suite. Create custom armor, clothing, body replacers.</div>
                            <a href="https://github.com/ousnius/BodySlide-and-Outfit-Studio" target="_blank" rel="noopener" style="font-size: 0.85rem; color: var(--accent-primary); display: inline-block; margin-top: var(--space-xs);">Download ‚Üí</a>
                        </div>
                    </div>
                </div>

                <!-- Step 2 -->
                <div>
                    <h4 style="margin-bottom: var(--space-sm); font-size: 1rem; color: var(--text-primary);">2. Learn the Fundamentals (In Order)</h4>
                    <p style="font-size: 0.875rem; color: var(--text-secondary); margin-bottom: var(--space-sm);">Don't skip ahead. Master each before moving on.</p>
                    <ol style="font-size: 0.875rem; color: var(--text-primary); padding-left: var(--space-md); line-height: 2;">
                        <li><strong>Plugin Structure</strong> - ESP vs ESM vs ESL, masters, load order</li>
                        <li><strong>Basic Records</strong> - NPCs, items, leveled lists, cells</li>
                        <li><strong>Scripts</strong> - Papyrus basics, properties, events</li>
                        <li><strong>Quests</strong> - Stages, aliases, objectives (advanced)</li>
                        <li><strong>Optimization</strong> - Asset compression, performance, testing</li>
                    </ol>
                </div>

                <!-- Step 3 -->
                <div>
                    <h4 style="margin-bottom: var(--space-sm); font-size: 1rem; color: var(--text-primary);">3. The Author's Rules</h4>
                    <div style="display: grid; gap: var(--space-xs);">
                        <div style="padding: var(--space-sm); background: rgba(34, 197, 94, 0.1); border-left: 3px solid var(--success); border-radius: var(--radius-sm);">
                            <strong style="color: var(--success);">Rule 1:</strong> <span style="color: var(--text-primary);">Start small. Your first mod should be a retexture or simple item, not a quest mod.</span>
                        </div>
                        <div style="padding: var(--space-sm); background: rgba(34, 197, 94, 0.1); border-left: 3px solid var(--success); border-radius: var(--radius-sm);">
                            <strong style="color: var(--success);">Rule 2:</strong> <span style="color: var(--text-primary);">Test in a clean save. Your mod might work for you but break others' games.</span>
                        </div>
                        <div style="padding: var(--space-sm); background: rgba(34, 197, 94, 0.1); border-left: 3px solid var(--success); border-radius: var(--radius-sm);">
                            <strong style="color: var(--success);">Rule 3:</strong> <span style="color: var(--text-primary);">Document everything. Mod page, requirements, incompatibilities, load order position.</span>
                        </div>
                        <div style="padding: var(--space-sm); background: rgba(34, 197, 94, 0.1); border-left: 3px solid var(--success); border-radius: var(--radius-sm);">
                            <strong style="color: var(--success);">Rule 4:</strong> <span style="color: var(--text-primary);">Respect permissions. Don't upload others' work without explicit permission. Ever.</span>
                        </div>
                        <div style="padding: var(--space-sm); background: rgba(34, 197, 94, 0.1); border-left: 3px solid var(--success); border-radius: var(--radius-sm);">
                            <strong style="color: var(--success);">Rule 5:</strong> <span style="color: var(--text-primary);">Use LOOT metadata. Help users by specifying load order requirements in your mod.</span>
                        </div>
                    </div>
                </div>

                <!-- Step 4 -->
                <div>
                    <h4 style="margin-bottom: var(--space-sm); font-size: 1rem; color: var(--text-primary);">4. Your First Mod (Recommended Path)</h4>
                    <div style="display: flex; flex-wrap: wrap; gap: var(--space-xs);">
                        <span style="font-size: 0.85rem; padding: var(--space-xs) var(--space-sm); background: var(--bg-dark); border-radius: var(--radius-sm); color: var(--text-primary);">Week 1-2: Simple retexture</span>
                        <span style="font-size: 0.85rem; padding: var(--space-xs) var(--space-sm); background: var(--bg-dark); border-radius: var(--radius-sm); color: var(--text-primary);">Week 3-4: New item (weapon/armor)</span>
                        <span style="font-size: 0.85rem; padding: var(--space-xs) var(--space-sm); background: var(--bg-dark); border-radius: var(--radius-sm); color: var(--text-primary);">Month 2: NPC or follower</span>
                        <span style="font-size: 0.85rem; padding: var(--space-xs) var(--space-sm); background: var(--bg-dark); border-radius: var(--radius-sm); color: var(--text-primary);">Month 3-4: Small quest</span>
                        <span style="font-size: 0.85rem; padding: var(--space-xs) var(--space-sm); background: var(--bg-dark); border-radius: var(--radius-sm); color: var(--text-primary);">Month 6+: Major overhaul</span>
                    </div>
                </div>

                <!-- Step 5 -->
                <div>
                    <h4 style="margin-bottom: var(--space-sm); font-size: 1rem; color: var(--text-primary);">5. Common Beginner Mistakes</h4>
                    <p style="font-size: 0.875rem; color: var(--text-secondary); margin-bottom: var(--space-sm);">Learn from others' failures:</p>
                    <ul style="font-size: 0.875rem; color: var(--text-primary); padding-left: var(--space-md); line-height: 1.8;">
                        <li><strong>Missing masters:</strong> Your mod requires USSEP but you didn't set it as master. Use xEdit to check.</li>
                        <li><strong>Dirty edits:</strong> Unintended changes to vanilla records. Clean with xEdit before release.</li>
                        <li><strong>Broken scripts:</strong> Not testing script-heavy mods. Test for at least 10 hours before release.</li>
                        <li><strong>No documentation:</strong> Users can't figure out requirements or incompatibilities. Write a proper mod page.</li>
                        <li><strong>Asset bloat:</strong> 4K textures when 1K would do. Optimize for performance, not just visuals.</li>
                    </ul>
                </div>

                <!-- Resources -->
                <div style="padding: var(--space-md); background: var(--bg-dark); border-radius: var(--radius-md);">
                    <h4 style="margin-bottom: var(--space-sm); font-size: 1rem; color: var(--text-primary);">üìö Author Resources</h4>
                    <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(280px, 1fr)); gap: var(--space-xs);">
                        <a href="https://creationkit.com/" target="_blank" rel="noopener" style="font-size: 0.875rem; color: var(--accent-primary); text-decoration: none; padding: var(--space-xs); background: var(--bg-input); border-radius: var(--radius-sm);">Creation Kit Wiki (Official)</a>
                        <a href="https://papyrus.skyrimmods.org/" target="_blank" rel="noopener" style="font-size: 0.875rem; color: var(--accent-primary); text-decoration: none; padding: var(--space-xs); background: var(--bg-input); border-radius: var(--radius-sm);">Papyrus Script Reference</a>
                        <a href="https://www.youtube.com/results?search_query=skyrim+creation+kit+tutorial" target="_blank" rel="noopener" style="font-size: 0.875rem; color: var(--accent-primary); text-decoration: none; padding: var(--space-xs); background: var(--bg-input); border-radius: var(--radius-sm);">GamerPoets CK Tutorials</a>
                        <a href="https://forums.nexusmods.com/forum/1949-skyrim-mod-talk/" target="_blank" rel="noopener" style="font-size: 0.875rem; color: var(--accent-primary); text-decoration: none; padding: var(--space-xs); background: var(--bg-input); border-radius: var(--radius-sm);">Nexus Mod Talk Forums</a>
                        <a href="https://discord.gg/skyrimmods" target="_blank" rel="noopener" style="font-size: 0.875rem; color: var(--accent-primary); text-decoration: none; padding: var(--space-xs); background: var(--bg-input); border-radius: var(--radius-sm);">Skyrim Modding Discord</a>
                        <a href="https://tes5edit.github.io/" target="_blank" rel="noopener" style="font-size: 0.875rem; color: var(--accent-primary); text-decoration: none; padding: var(--space-xs); background: var(--bg-input); border-radius: var(--radius-sm);">xEdit Documentation</a>
                    </div>
                </div>
            </div>
        </div>

        <!-- ======================================================================= -->
        <!-- QUICK REFERENCES - Because you don't have time to google -->
        <!-- ======================================================================= -->
        <div style="background: var(--bg-card); border-radius: var(--radius-lg); padding: var(--space-xl); border-left: 4px solid var(--text-muted);">
            <h3 style="margin-bottom: var(--space-md); font-size: 1.25rem;">üìö Quick References</h3>
            
            <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(250px, 1fr)); gap: var(--space-md);">
                <div>
                    <h4 style="margin-bottom: var(--space-sm); font-size: 0.9rem; color: var(--text-secondary); text-transform: uppercase; letter-spacing: 0.05em;">Documentation</h4>
                    <div style="display: flex; flex-direction: column; gap: var(--space-xs);">
                        <a href="https://creationkit.com/" target="_blank" rel="noopener" style="font-size: 0.875rem; color: var(--accent-primary); text-decoration: none; padding: var(--space-xs); background: var(--bg-input); border-radius: var(--radius-sm);">Creation Kit Wiki</a>
                        <a href="https://papyrus.skyrimmods.org/" target="_blank" rel="noopener" style="font-size: 0.875rem; color: var(--accent-primary); text-decoration: none; padding: var(--space-xs); background: var(--bg-input); border-radius: var(--radius-sm);">Papyrus Reference</a>
                        <a href="https://tes5edit.github.io/" target="_blank" rel="noopener" style="font-size: 0.875rem; color: var(--accent-primary); text-decoration: none; padding: var(--space-xs); background: var(--bg-input); border-radius: var(--radius-sm);">xEdit Documentation</a>
                    </div>
                </div>
                
                <div>
                    <h4 style="margin-bottom: var(--space-sm); font-size: 0.9rem; color: var(--text-secondary); text-transform: uppercase; letter-spacing: 0.05em;">Communities</h4>
                    <div style="display: flex; flex-direction: column; gap: var(--space-xs);">
                        <a href="https://discord.gg/skyrimmods" target="_blank" rel="noopener" style="font-size: 0.875rem; color: var(--accent-primary); text-decoration: none; padding: var(--space-xs); background: var(--bg-input); border-radius: var(--radius-sm);">Skyrim Mods Discord</a>
                        <a href="https://www.reddit.com/r/skyrimmods/" target="_blank" rel="noopener" style="font-size: 0.875rem; color: var(--accent-primary); text-decoration: none; padding: var(--space-xs); background: var(--bg-input); border-radius: var(--radius-sm);">r/skyrimmods</a>
                        <a href="https://forums.nexusmods.com/" target="_blank" rel="noopener" style="font-size: 0.875rem; color: var(--accent-primary); text-decoration: none; padding: var(--space-xs); background: var(--bg-input); border-radius: var(--radius-sm);">Nexus Forums</a>
                    </div>
                </div>
                
                <div>
                    <h4 style="margin-bottom: var(--space-sm); font-size: 0.9rem; color: var(--text-secondary); text-transform: uppercase; letter-spacing: 0.05em;">Tools</h4>
                    <div style="display: flex; flex-direction: column; gap: var(--space-xs);">
                        <a href="https://www.nexusmods.com/skyrimspecialedition/mods/64174" target="_blank" rel="noopener" style="font-size: 0.875rem; color: var(--accent-primary); text-decoration: none; padding: var(--space-xs); background: var(--bg-input); border-radius: var(--radius-sm);">LOOT</a>
                        <a href="https://www.nexusmods.com/skyrimspecialedition/mods/164" target="_blank" rel="noopener" style="font-size: 0.875rem; color: var(--accent-primary); text-decoration: none; padding: var(--space-xs); background: var(--bg-input); border-radius: var(--radius-sm);">xEdit</a>
                        <a href="https://www.nexusmods.com/skyrimspecialedition/mods/61988" target="_blank" rel="noopener" style="font-size: 0.875rem; color: var(--accent-primary); text-decoration: none; padding: var(--space-xs); background: var(--bg-input); border-radius: var(--radius-sm);">Cathedral Assets Optimizer</a>
                    </div>
                </div>
            </div>
        </div>

    </div>
</section>

<script>
// Mod Author Tools - Minimal, functional, no bullshit
document.addEventListener('DOMContentLoaded', function() {
    
    // =========================================================================
    // CONFLICT CHECKER
    // =========================================================================
    const conflictCheckBtn = document.getElementById('conflict-check-btn');
    const conflictResults = document.getElementById('conflict-results');
    const conflictFileInput = document.getElementById('conflict-file-input');
    const conflictLoadPluginsBtn = document.getElementById('conflict-load-plugins-btn');
    
    conflictLoadPluginsBtn?.addEventListener('click', () => conflictFileInput.click());
    
    conflictFileInput?.addEventListener('change', function(e) {
        const file = e.target.files[0];
        if (!file) return;
        
        const reader = new FileReader();
        reader.onload = function(e) {
            const lines = e.target.result.split('\n')
                .map(l => l.trim())
                .filter(l => l && !l.startsWith('#') && !l.startsWith('*'))
                .map(l => l.startsWith('*') ? l.slice(1) : l);
            document.getElementById('conflict-modlist').value = lines.join('\n');
        };
        reader.readAsText(file);
    });
    
    conflictCheckBtn?.addEventListener('click', async function() {
        const yourMod = document.getElementById('conflict-your-mod').value.trim();
        const modlist = document.getElementById('conflict-modlist').value.trim();
        const game = document.getElementById('conflict-game').value;
        
        if (!yourMod) {
            conflictResults.innerHTML = '<p style="color: var(--error);">Enter your mod name.</p>';
            return;
        }
        
        if (!modlist) {
            conflictResults.innerHTML = '<p style="color: var(--error);">Paste a mod list to test against.</p>';
            return;
        }
        
        this.disabled = true;
        this.textContent = '‚è≥ Checking...';
        
        try {
            const response = await fetch('/api/analyze/summary', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({
                    mod_list: modlist.split('\n'),
                    game: game,
                    context: `Check for conflicts with ${yourMod}`
                })
            });
            
            const data = await response.json();
            
            if (data.summary) {
                conflictResults.innerHTML = `<div style="white-space: pre-wrap; font-size: 0.875rem; line-height: 1.6;">${data.summary}</div>`;
            } else if (data.error) {
                conflictResults.innerHTML = `<p style="color: var(--error);">Error: ${data.error}</p>`;
            } else {
                conflictResults.innerHTML = '<p style="color: var(--text-secondary);">No conflicts detected. Your mod appears compatible with the listed mods.</p>';
            }
        } catch (e) {
            conflictResults.innerHTML = `<p style="color: var(--error);">Request failed: ${e.message}</p>`;
        } finally {
            this.disabled = false;
            this.textContent = 'üîç Check for Conflicts';
        }
    });
    
    // =========================================================================
    // LOAD ORDER VALIDATOR
    // =========================================================================
    const loValidateBtn = document.getElementById('lo-validate-btn');
    const loResults = document.getElementById('lo-results');
    
    loValidateBtn?.addEventListener('click', async function() {
        const yourMod = document.getElementById('lo-your-mod').value.trim();
        const loList = document.getElementById('lo-list').value.trim();
        
        if (!yourMod || !loList) {
            loResults.innerHTML = '<p style="color: var(--error);">Fill in both fields.</p>';
            return;
        }
        
        this.disabled = true;
        this.textContent = '‚è≥ Validating...';
        
        try {
            const response = await fetch('/api/analyze/summary', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({
                    mod_list: loList.split('\n'),
                    game: 'skyrimse',
                    context: `Validate load order placement for ${yourMod}`
                })
            });
            
            const data = await response.json();
            
            if (data.summary) {
                loResults.innerHTML = `<div style="white-space: pre-wrap; font-size: 0.875rem; line-height: 1.6;">${data.summary}</div>`;
            } else {
                loResults.innerHTML = '<p style="color: var(--success);">Load order looks clean. No issues detected.</p>';
            }
        } catch (e) {
            loResults.innerHTML = `<p style="color: var(--error);">Request failed: ${e.message}</p>`;
        } finally {
            this.disabled = false;
            this.textContent = 'üìä Validate Load Order';
        }
    });
    
    // =========================================================================
    // REQUIREMENTS VALIDATOR
    // =========================================================================
    const reqValidateBtn = document.getElementById('req-validate-btn');
    const reqResults = document.getElementById('req-results');
    
    reqValidateBtn?.addEventListener('click', async function() {
        const yourMod = document.getElementById('req-your-mod').value.trim();
        const reqList = document.getElementById('req-list').value.trim();
        
        if (!yourMod || !reqList) {
            reqResults.innerHTML = '<p style="color: var(--error);">Fill in both fields.</p>';
            return;
        }
        
        this.disabled = true;
        this.textContent = '‚è≥ Validating...';
        
        try {
            const response = await fetch('/api/analyze/summary', {
                method: 'POST',
                headers: { 'Content-Type': 'application/json' },
                body: JSON.stringify({
                    mod_list: reqList.split('\n'),
                    game: 'skyrimse',
                    context: `Validate these requirements for ${yourMod}: ${reqList}`
                })
            });
            
            const data = await response.json();
            
            if (data.summary) {
                reqResults.innerHTML = `<div style="white-space: pre-wrap; font-size: 0.875rem; line-height: 1.6;">${data.summary}</div>`;
            } else {
                reqResults.innerHTML = '<p style="color: var(--success);">Requirements look valid.</p>';
            }
        } catch (e) {
            reqResults.innerHTML = `<p style="color: var(--error);">Request failed: ${e.message}</p>`;
        } finally {
            this.disabled = false;
            this.textContent = '‚úÖ Validate Requirements';
        }
    });
    
    // =========================================================================
    // LOOT METADATA GENERATOR
    // =========================================================================
    const metaGenerateBtn = document.getElementById('meta-generate-btn');
    const metaCopyBtn = document.getElementById('meta-copy-btn');
    const metaOutput = document.getElementById('meta-output');
    
    metaGenerateBtn?.addEventListener('click', function() {
        const mod = document.getElementById('meta-mod').value.trim();
        const author = document.getElementById('meta-author').value.trim();
        const reqs = document.getElementById('meta-reqs').value.split(',').map(s => s.trim()).filter(Boolean);
        const loadAfter = document.getElementById('meta-loadafter').value.split(',').map(s => s.trim()).filter(Boolean);
        const tags = document.getElementById('meta-tags').value.split(',').map(s => s.trim()).filter(Boolean);
        
        if (!mod) {
            showToast('Enter mod name', 'warning');
            return;
        }
        
        let yaml = `- name: "${mod}"\n`;
        if (author) yaml += `  author: "${author}"\n`;
        if (tags.length) yaml += `  tags:\n${tags.map(t => `    - ${t}`).join('\n')}\n`;
        if (reqs.length) yaml += `  req:\n${reqs.map(r => `    - "${r}"`).join('\n')}\n`;
        if (loadAfter.length) yaml += `  after:\n${loadAfter.map(l => `    - "${l}"`).join('\n')}\n`;
        yaml += `  clean:\n    - "QuickAutoClean"\n`;
        
        metaOutput.value = yaml;
    });
    
    metaCopyBtn?.addEventListener('click', function() {
        metaOutput.select();
        document.execCommand('copy');
        this.textContent = '‚úì Copied!';
        setTimeout(() => this.textContent = 'üìã Copy to Clipboard', 2000);
    });
    
    // =========================================================================
    // PATCH FINDER
    // =========================================================================
    const patchSearchBtn = document.getElementById('patch-search-btn');
    const patchResults = document.getElementById('patch-results');
    
    patchSearchBtn?.addEventListener('click', async function() {
        const yourMod = document.getElementById('patch-your-mod').value.trim();
        const game = document.getElementById('patch-game').value;
        
        if (!yourMod) {
            patchResults.innerHTML = '<p style="color: var(--error);">Enter your mod name.</p>';
            return;
        }
        
        this.disabled = true;
        this.textContent = '‚è≥ Searching...';
        
        try {
            // Search community builds for patches
            const response = await fetch(`/api/community-builds?game=${game}&q=${encodeURIComponent(yourMod)}`);
            const data = await response.json();
            
            if (data.builds && data.builds.length > 0) {
                patchResults.innerHTML = data.builds.map(b => `
                    <div style="padding: var(--space-sm); border-bottom: 1px solid var(--border);">
                        <div style="font-weight: 600;">${b.name}</div>
                        <div style="font-size: 0.85rem; color: var(--text-secondary);">${b.description || 'Community build'}</div>
                        ${b.source_url ? `<a href="${b.source_url}" target="_blank" style="font-size: 0.85rem; color: var(--accent-primary);">View ‚Üí</a>` : ''}
                    </div>
                `).join('');
            } else {
                patchResults.innerHTML = '<p style="color: var(--text-secondary);">No patches found in community database. Check Nexus manually.</p>';
            }
        } catch (e) {
            patchResults.innerHTML = `<p style="color: var(--error);">Search failed: ${e.message}</p>`;
        } finally {
            this.disabled = false;
            this.textContent = 'üîç Search for Patches';
        }
    });
    
});
</script>
