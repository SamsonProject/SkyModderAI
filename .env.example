# ====================================
# SkyModderAI - Environment Configuration
# ====================================
# Copy this file to .env and fill in the values
# NEVER commit .env to version control

# =======================
# 1. Core Application
# =======================
FLASK_ENV=development  # 'production' or 'development'
SECRET_KEY=generate_with_python_secrets_token_hex_32
PORT=5000  # Default port for the Flask app

# =======================
# 2. Database
# =======================
# SQLite is used by default
# For PostgreSQL, uncomment and configure:
# DATABASE_URL=postgresql://user:password@localhost:5432/skymodderai

# =======================
# 3. Authentication & Security
# =======================
# Session settings (auto-configured based on FLASK_ENV)
SESSION_COOKIE_SECURE=  # Auto-set based on FLASK_ENV
SESSION_COOKIE_HTTPONLY=True
SESSION_COOKIE_SAMESITE=Lax

# Google OAuth (optional)
GOOGLE_CLIENT_ID=xxx.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=xxx
BASE_URL=https://your-domain.com  # Required for OAuth, no trailing slash

# =======================
# 4. Email Configuration
# =======================
# Required for email verification and notifications
MAIL_FROM=noreply@yourdomain.com
MAIL_HOST=smtp.gmail.com
MAIL_PORT=587
MAIL_USER=your-email@example.com
MAIL_PASSWORD=your-email-password
MAIL_USE_SSL=False  # Set to True for port 465
MAIL_USE_TLS=True   # Set to True for port 587

# =======================
# 5. AI & Machine Learning
# =======================
# OpenAI API (required for AI features)
OPENAI_API_KEY=sk-...
OPENAI_CHAT_MODEL=gpt-4o-mini  # Default model for chat completions

# AI Pruning (context optimization)
PRUNING_ENABLED=1
PRUNING_MAX_CONTEXT_CHARS=12000

# =======================
# 6. Payment Processing (Stripe)
# =======================
# Required for subscriptions
STRIPE_SECRET_KEY=sk_...
STRIPE_PUBLISHABLE_KEY=pk_...
STRIPE_WEBHOOK_SECRET=whsec_...

# Subscription Tiers
STRIPE_PRO_PRICE_ID=price_...  # Pro tier
STRIPE_OPENCLAW_PRICE_ID=prod_TzLufF0bCop1VD  # OpenClaw Lab tier ($15/mo)

# =======================
# 7. OpenClaw (Experimental)
# =======================
# WARNING: Experimental feature - use with caution
MODCHECK_OPENCLAW_ENABLED=0  # Set to 1 to enable OpenClaw Lab
OPENCLAW_SANDBOX_ROOT=./openclaw_workspace
OPENCLAW_MAX_FILES=500
OPENCLAW_MAX_BYTES=52428800  # 50MB
OPENCLAW_MAX_PATH_DEPTH=10
OPENCLAW_MAX_PATH_LENGTH=220
OPENCLAW_REQUIRE_SAME_IP=1  # Additional security for OpenClaw

# =======================
# 8. Development & Testing
# =======================
# Enable development mode (bypasses payments, enables test routes)
MODCHECK_OFFLINE_MODE=0  # Set to 1 to disable external API calls

# Test accounts (development only)
MODCHECK_DEV_PRO=0  # Give all users Pro features
MODCHECK_DEV_PRO_PLUS=0  # Give all users Pro+ features
MODCHECK_DEV_OPENCLAW=0  # Give all users OpenClaw access
MODCHECK_TEST_PRO_EMAIL=test@example.com  # Specific test email for Pro
MODCHECK_TEST_OPENCLAW_EMAIL=test@example.com  # Test email for OpenClaw

# =======================
# 9. GitHub Integration
# =======================
# Optional: For enhanced GitHub API rate limits
GITHUB_TOKEN=ghp_...  # GitHub personal access token

# =======================
# 10. Performance & Scaling
# =======================
# Configure these based on your deployment
WORKERS=4  # Number of worker processes (for production)
THREADS=2  # Threads per worker
TIMEOUT=120  # Worker timeout in seconds

# =======================
# 11. Logging & Monitoring
# =======================
LOG_LEVEL=INFO  # DEBUG, INFO, WARNING, ERROR, CRITICAL
SENTRY_DSN=  # Optional: For error tracking with Sentry

# =======================
# 12. Feature Flags
# =======================
# Toggle specific features on/off
FEATURE_AI_CHAT=1
FEATURE_GOOGLE_AUTH=1
FEATURE_EMAIL_VERIFICATION=1
FEATURE_STRIPE_PAYMENTS=1

# =======================
# 13. Rate Limiting
# =======================
RATE_LIMIT_DEFAULT=100/1minute  # Default rate limit
RATE_LIMIT_API=60/1minute      # API endpoints
RATE_LIMIT_AUTH=10/1minute     # Authentication endpoints

# =======================
# 14. Caching
# =======================
CACHE_TYPE=simple  # Options: simple, filesystem, redis, memcached
CACHE_DEFAULT_TIMEOUT=300  # 5 minutes
# For production caching, uncomment and configure:
# CACHE_REDIS_URL=redis://localhost:6379/0
# CACHE_MEMCACHED_SERVERS=localhost:11211

# =======================
# 15. Advanced Settings
# =======================
# These are auto-configured but can be overridden
# SQLALCHEMY_DATABASE_URI=sqlite:///app.db
# SQLALCHEMY_TRACK_MODIFICATIONS=False
# MAX_CONTENT_LENGTH=16777216  # 16MB upload limit

# =======================
# 16. Security Headers
# =======================
# These are set by default but can be customized
# CONTENT_SECURITY_POLICY=default-src 'self'
# X_FRAME_OPTIONS=SAMEORIGIN
# X_CONTENT_TYPE_OPTIONS=nosniff
# X_XSS_PROTECTION=1; mode=block

# =======================
# 17. Maintenance Mode
# =======================
# Set to 1 to enable maintenance mode
MAINTENANCE_MODE=0
MAINTENANCE_MESSAGE=We're down for maintenance. Please check back soon.

# =======================
# 18. Analytics
# =======================
# Optional: Google Analytics
# GOOGLE_ANALYTICS_ID=UA-XXXXX-Y

# =======================
# 19. CDN & Static Assets
# =======================
# For production, set your CDN URL
# CDN_URL=https://cdn.yourdomain.com
# ASSETS_DEBUG=False  # Set to False in production

# =======================
# 20. Background Tasks
# =======================
# Configure your task queue (e.g., Celery, RQ)
# CELERY_BROKER_URL=redis://localhost:6379/0
# CELERY_RESULT_BACKEND=redis://localhost:6379/0

# =======================
# 21. Internationalization
# =======================
DEFAULT_LANGUAGE=en
SUPPORTED_LANGUAGES=en,es,fr,de,ja,zh

# =======================
# 22. Backup & Maintenance
# =======================
# Auto-backup settings
AUTO_BACKUP_ENABLED=1
BACKUP_RETENTION_DAYS=30
BACKUP_DIR=./backups

# =======================
# 23. API Configuration
# =======================
# API rate limits and security
API_RATE_LIMIT=100/hour
API_KEY_EXPIRY_DAYS=90
REQUIRE_API_KEY=0  # Set to 1 to require API key for all endpoints

# =======================
# 24. Notifications
# =======================
# Email notification settings
NOTIFY_ON_SIGNUP=1
NOTIFY_ON_PAYMENT=1
ADMIN_EMAIL=admin@example.com

# =======================
# 25. Legal & Compliance
# =======================
# Privacy and legal settings
PRIVACY_POLICY_URL=/privacy
TERMS_OF_SERVICE_URL=/terms
COOKIE_POLICY_URL=/cookies
GDPR_COMPLIANT=1

# =======================
# 26. Performance Tuning
# =======================
# Tune these based on your server specs
WORKER_CONNECTIONS=1000
KEEPALIVE_TIMEOUT=5

# =======================
# 27. WebSockets (if used)
# =======================
WEBSOCKET_ENABLED=0
WEBSOCKET_URL=ws://localhost:5000/ws

# =======================
# 28. Search Configuration
# =======================
# For full-text search
SEARCH_ENABLED=1
SEARCH_PROVIDER=whoosh  # or elasticsearch, meilisearch, etc.
# ELASTICSEARCH_URL=http://localhost:9200
# MEILISEARCH_URL=http://localhost:7700

# =======================
# 29. File Uploads
# =======================
UPLOAD_FOLDER=./uploads
MAX_CONTENT_LENGTH=16777216  # 16MB
ALLOWED_EXTENSIONS=txt,pdf,png,jpg,jpeg,gif

# =======================
# 30. Custom Branding
# =======================
APP_NAME=SkyModderAI
PRIMARY_COLOR=#4f46e5
SECONDARY_COLOR=#7c3aed
LOGO_URL=/static/images/logo.svg
FAVICON_URL=/static/favicon.ico

# =======================
# End of Configuration
# =======================
# Remember to restart your application after making changes to this file.
