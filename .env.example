# SkyModderAI - Environment Configuration

**Copy this file to `.env` and fill in your values.**

```bash
# =============================================================================
# REQUIRED SETTINGS
# =============================================================================

# Application secret key for session encryption
# Generate with: python3 -c "import secrets; print(secrets.token_hex(32))"
SECRET_KEY=your_super_long_random_string_here

# Base URL (no trailing slash)
# Production: https://skymoddereai.com
# Development: http://localhost:5000
BASE_URL=http://localhost:5000

# Database URL
# SQLite (development - ephemeral, not recommended for production):
# DATABASE_URL=sqlite:///instance/app.db
# PostgreSQL (production - persistent storage):
DATABASE_URL=postgresql://skymodderai_user:password@localhost:5432/skymodderai
# Render PostgreSQL (automatic in production):
# DATABASE_URL will be provided by Render automatically

# Flask environment
# development = debug mode, auto-reload
# production = optimized, no debug
FLASK_ENV=development

# =============================================================================
# OPTIONAL: Payment & Donations
# =============================================================================
# SkyModderAI is 100% free + donations. No paywalls, no premium tiers.
# These settings are ONLY for optional donation/payment links.

# Stripe (optional - for future premium features or donations)
STRIPE_SECRET_KEY=sk_test_...
STRIPE_PUBLISHABLE_KEY=pk_test_...
STRIPE_PRO_PRICE_ID=price_...          # Not used currently
STRIPE_WEBHOOK_SECRET=whsec_...         # Not used currently

# Buy Me a Coffee / Mead (recommended for donations)
# Get from: https://www.buymeacoffee.com/
BMC_USERNAME=your_username
BMC_API_KEY=your_api_key                # Optional

# =============================================================================
# OPTIONAL: OAuth Authentication
# =============================================================================
# Users can sign up with email or OAuth. OAuth is optional.

# Google OAuth (optional)
# Setup: https://console.cloud.google.com/apis/credentials
GOOGLE_CLIENT_ID=your-client-id.apps.googleusercontent.com
GOOGLE_CLIENT_SECRET=your-client-secret
# Redirect URI: {BASE_URL}/auth/google/callback

# GitHub OAuth (optional)
# Setup: https://github.com/settings/developers
GITHUB_CLIENT_ID=your-client-id
GITHUB_CLIENT_SECRET=your-client-secret
# Redirect URI: {BASE_URL}/auth/github/callback

# =============================================================================
# OPTIONAL: Email Configuration
# =============================================================================
# Used for account verification and weekly reports.
# If unset, verification links are logged to console (development only).

MAIL_SERVER=smtp.gmail.com              # Gmail: smtp.gmail.com
MAIL_PORT=587                           # TLS: 587, SSL: 465
MAIL_USER=your-email@gmail.com
MAIL_PASSWORD=your-app-password         # Use app password, not regular password
MAIL_FROM=noreply@skymoddereai.com
MAIL_USE_TLS=true
MAIL_USE_SSL=false

# Weekly report recipient (founder)
WEEKLY_REPORT_EMAIL=chris@skymodderai.com

# =============================================================================
# AI Features
# =============================================================================

# OpenAI API (optional - for AI chat features)
OPENAI_API_KEY=sk-...                      # OpenAI API key
OPENAI_MODEL=gpt-4o-mini                   # or any OpenAI-compatible model
OPENAI_BASE_URL=https://api.openai.com/v1  # Optional: custom endpoint

# =============================================================================
# OPTIONAL: Research Pipeline
# =============================================================================
# Autonomous research scrapes Nexus, Reddit, GitHub every 6 hours.

# Nexus Mods API (optional - for mod metadata)
# Get from: https://www.nexusmods.com/users/myaccount?tab=api+access
NEXUS_API_KEY=your-api-key

# GitHub Token (optional - increases rate limit from 60 to 5000/hour)
# Get from: https://github.com/settings/tokens
GITHUB_TOKEN=your-token

# =============================================================================
# OPTIONAL: Caching & Performance
# =============================================================================
# Redis improves performance. Falls back to in-memory cache if not set.

REDIS_HOST=localhost                    # Redis server hostname
REDIS_PORT=6379                         # Redis server port
REDIS_PASSWORD=                         # Redis password (if required)

# =============================================================================
# OPTIONAL: OpenCLAW (Experimental Automation)
# =============================================================================
# OpenCLAW is experimental and disabled by default.
# DO NOT enable unless you understand the risks.

SKYMODDERAI_OPENCLAW_ENABLED=0          # 0 = disabled, 1 = enabled
OPENCLAW_SANDBOX_ROOT=./openclaw_workspace
OPENCLAW_MAX_FILES=500
OPENCLAW_MAX_BYTES=52428800             # 50MB
OPENCLAW_MAX_PATH_DEPTH=10
OPENCLAW_MAX_PATH_LENGTH=220
OPENCLAW_REQUIRE_SAME_IP=1              # Require same IP for execution

# =============================================================================
# OPTIONAL: Development & Debugging
# =============================================================================

# Enable debug mode (development only, never in production)
FLASK_DEBUG=false

# Development Pro access (gives Pro features to all users in development)
SKYMODDERAI_DEV_PRO=0                   # 1 = enable, 0 = disable

# Test Pro email (gives Pro features to specific email in development)
SKYMODDERAI_TEST_PRO_EMAIL=

# Offline mode (disables external link previews)
SKYMODDERAI_OFFLINE_MODE=0

# Sentry error tracking (optional)
SENTRY_DSN=                             # https://sentry.io/

# =============================================================================
# OPTIONAL: Sponsor System
# =============================================================================
# Ethical sponsorship - community curated, non-intrusive.

SPONSOR_ENABLED=0                       # 0 = disabled, 1 = enabled
SPONSOR_FLAT_RATE=200                   # Monthly rate in USD
SPONSOR_CONTACT_EMAIL=sponsors@skymoddereai.com

# =============================================================================
# SECURITY NOTES
# =============================================================================
# - Never commit .env to version control
# - Use different SECRET_KEY for production
# - Use app passwords for Gmail (not regular passwords)
# - Enable HTTPS in production
# - Set SESSION_COOKIE_SECURE=true in production
# - Rotate API keys regularly
```

---

## Quick Start

### Development Setup

```bash
# Copy this file
cp .env.example .env

# Generate secret key
python3 -c "import secrets; print(secrets.token_hex(32))"

# Edit .env with your values
nano .env

# Run the application
python3 app.py
```

### Production Deployment

```bash
# Set required environment variables
export SECRET_KEY=your_secret_key
export DATABASE_URL=postgresql://user:pass@host:5432/skymoddereai
export BASE_URL=https://skymoddereai.com
export FLASK_ENV=production

# Optional: Set up Redis
export REDIS_HOST=your-redis-host

# Optional: Set up email
export MAIL_SERVER=smtp.yourprovider.com
export MAIL_USER=your-email
export MAIL_PASSWORD=your-password

# Run with gunicorn
gunicorn -w 4 -b 0.0.0.0:8000 app:app
```

---

## Feature Flags

| Variable | Default | Description |
|----------|---------|-------------|
| `FLASK_DEBUG` | `false` | Enable debug mode (development only) |
| `SKYMODDERAI_DEV_PRO` | `0` | Give Pro features to all users (development) |
| `SKYMODDERAI_OFFLINE_MODE` | `0` | Disable external link previews |
| `SKYMODDERAI_OPENCLAW_ENABLED` | `0` | Enable experimental OpenCLAW features |
| `SPONSOR_ENABLED` | `0` | Enable sponsor system |

---

## Notes

**SkyModderAI is 100% free + donations.** No paywalls, no premium tiers, no bullshit.

All payment/donation features are optional. The core application works without any payment configuration.

For questions or support: chris@skymodderai.com
